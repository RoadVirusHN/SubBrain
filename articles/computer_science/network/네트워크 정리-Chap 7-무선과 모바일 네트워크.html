<!DOCTYPE html>
<html lang="kr"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>네트워크 정리-Chap 7-무선과 모바일 네트워크 | 🧠SUBBRAIN</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="네트워크 정리-Chap 7-무선과 모바일 네트워크" />
<meta property="og:locale" content="kr" />
<meta name="description" content="Chapter 7. 무선과 모바일 네트워크(Wireless and Mobile Networks)" />
<meta property="og:description" content="Chapter 7. 무선과 모바일 네트워크(Wireless and Mobile Networks)" />
<link rel="canonical" href="http://localhost:4000/articles/computer_science/network/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%20%EC%A0%95%EB%A6%AC-Chap%207-%EB%AC%B4%EC%84%A0%EA%B3%BC%20%EB%AA%A8%EB%B0%94%EC%9D%BC%20%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC.html" />
<meta property="og:url" content="http://localhost:4000/articles/computer_science/network/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%20%EC%A0%95%EB%A6%AC-Chap%207-%EB%AC%B4%EC%84%A0%EA%B3%BC%20%EB%AA%A8%EB%B0%94%EC%9D%BC%20%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC.html" />
<meta property="og:site_name" content="🧠SUBBRAIN" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-08-22T13:34:16+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="네트워크 정리-Chap 7-무선과 모바일 네트워크" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-08-22T13:34:16+09:00","datePublished":"2022-08-22T13:34:16+09:00","description":"Chapter 7. 무선과 모바일 네트워크(Wireless and Mobile Networks)","headline":"네트워크 정리-Chap 7-무선과 모바일 네트워크","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/articles/computer_science/network/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%20%EC%A0%95%EB%A6%AC-Chap%207-%EB%AC%B4%EC%84%A0%EA%B3%BC%20%EB%AA%A8%EB%B0%94%EC%9D%BC%20%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC.html"},"url":"http://localhost:4000/articles/computer_science/network/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%20%EC%A0%95%EB%A6%AC-Chap%207-%EB%AC%B4%EC%84%A0%EA%B3%BC%20%EB%AA%A8%EB%B0%94%EC%9D%BC%20%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="🧠SUBBRAIN" /><link rel="icon" type="image/x-icon" href="/assets/img/common/favicon.ico">
</head>
<div class="scrollWrapper">
  <div class="scrollbar"></div>
  <div class="progressbar"></div>
  <div class="scrollbarButton"></div>
</div>

<link rel="stylesheet" href="/assets/css/obsidian/obs-scrollbar.css" />

<!--<div class="redirection">
  <h1 class="name">Redirection for full experience.</h1>
  <br>
  Move to <br /> <a class="to" href="#">netlify url</a><br />
  <div>after <span class="counter">10</span>secs.</div>
  press <button class="cancle">here</button> to cancle.
</div>
<div class="overlay"></div>
<script type="module" src="/assets/scripts/common/components/init_redirection.js"></script>

<link rel="stylesheet" href="/assets/css/common/redirection.css" />-->

<body><header class="site-header" role="banner">

  <div class="wrapper" style="display: flex; justify-content: space-between;"><div id="header-wrapper">
    <a class="site-title" rel="author" href="/blog">🧠SUBBRAIN</a>

    </div><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><script src="https://unpkg.com/lunr/lunr.js"></script>
<link rel="stylesheet" href="/assets/css/common/searchbar.css" />

<form id="search-form" method="get">
  <span id="search-wrapper">
    <span id="tag-holder" ></span>
    <input type="text" id="search-box" placeholder='Prefix "#" to add Tag.' autocomplete="off">
    <span class="inner-search" >🔍</span>
  </span>
</form><a class="page-link" href="/">ABOUT ME</a><a class="page-link" href="/blog">ALL ARTICLES</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
    <link rel="stylesheet" href="/assets/css/common/drawer.css" />
<button class="drawer-button open">▶️</button>
<div id="drawer" class="close">
  <button class="drawer-button close">
    ◀️
  </button>
  <div class="drawer-content">
    <div class="my-description">
      <div class="avatar-section" style="display: flex; flex-direction: row;">

        <img src="/assets/img/common/avatar.png" alt="avatar" class="avatar">
        <div style="display: flex; flex-direction: column; margin-left: 5px;">
          <a href="/about/">
            <h3 class="name">ROADVIRUSHN</h3>
          </a>
          <div class="stack-list" style="margin: 5px 0 0 5px;">
            <a title="My github page" href="https://github.com/RoadVirusHN">
  <svg class="svg-icon" width="16" height="16" viewBox="0 0 16 16">
    <use xlink:href="/assets/svg/social-icons.svg#github"></use>
  </svg>
</a>
<a title="My G-mail" href="mailto:roadvirushn@gmail.com">
  <svg class="svg-icon" width="16" height="16" viewBox="0 0 16 16">
    <use xlink:href="/assets/svg/social-icons.svg#gmail"></use>
  </svg>
</a>
<a title="My Blog" href="https://luminous-bubblegum-8e9be4.netlify.app">
  <svg class="svg-icon" width="16" height="16" viewBox="0 0 16 16">
    <use xlink:href="/assets/svg/social-icons.svg#blog"></use>
  </svg>
</a>
          </div>
        </div>
        <!-- <h4 class="name">(JUNSEOK YUN)</h4> -->
      </div>
      <p style="margin: 5px 0 0 0;">
        풀스택 웹🌐 개발자 지망생 🧑🏽‍💻
        <br>
        ➕ 인공지능 관심 🤖
      </p>
    </div>
      <hr>
      <div class="categories">
        <h3 style="margin: 0;"><a href="/">Categories</a></h3>
        <ul class="category-list">
  
  
  
  <li>
    <strong style="font-size: larger;">┣ </strong>
    <h3 style="display: inline;">
      
      <a href="/categories/COMPUTER_SCIENCE/" class="category-drop-down">▶</a>
      
      <span class="category-link">COMPUTER_SCIENCE</span>
    </h3>
    <span style="font-size: xx-small;">
       
      📂: 7
    </span>
    <ul class="child-category-list">
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/COMPUTER_SCIENCE/DATABASE/">DATABASE</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 1 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/COMPUTER_SCIENCE/ALGORITHM/">ALGORITHM</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 16 
            📂: 1
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/COMPUTER_SCIENCE/OS/">OS</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 2 
            📂: 1
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/COMPUTER_SCIENCE/NETWORK/">NETWORK</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 8 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/COMPUTER_SCIENCE/ETC/">ETC</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 1 
            📂: 1
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/COMPUTER_SCIENCE/OSSU/">OSSU</a>
        </h4>
          <span style="font-size: xx-small;">
             
            📂: 1
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┗ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/COMPUTER_SCIENCE/PL/">PL</a>
        </h4>
          <span style="font-size: xx-small;">
             
            📂: 1
          </span>
      </li>
      
    </ul>
  </li>
  
  
  <li>
    <strong style="font-size: larger;">┣ </strong>
    <h3 style="display: inline;">
      
      <a href="/categories/WEB/" class="category-drop-down">▶</a>
      
      <span class="category-link">WEB</span>
    </h3>
    <span style="font-size: xx-small;">
       
      📂: 3
    </span>
    <ul class="child-category-list">
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/WEB/FRONTEND/">FRONTEND</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 2 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/WEB/BACKEND/">BACKEND</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 2 
            📂: 2
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┗ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/WEB/CI,CD/">CI,CD</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 2 
            📂: 2
          </span>
      </li>
      
    </ul>
  </li>
  
  
  <li>
    <strong style="font-size: larger;">┣ </strong>
    <h3 style="display: inline;">
      
      <a href="/categories/ETC/" class="category-drop-down">▶</a>
      
      <span class="category-link">ETC</span>
    </h3>
    <span style="font-size: xx-small;">
       
      📂: 2
    </span>
    <ul class="child-category-list">
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/ETC/ETCS/">ETCS</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 8 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┗ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/ETC/SUBBRAIN 개발기/">SUBBRAIN 개발기</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 5 
            
          </span>
      </li>
      
    </ul>
  </li>
  
  
  <li>
    <strong style="font-size: larger;">┗ </strong>
    <h3 style="display: inline;">
      
      <a href="/categories/AI/" class="category-drop-down">▶</a>
      
      <span class="category-link">AI</span>
    </h3>
    <span style="font-size: xx-small;">
       
      📂: 9
    </span>
    <ul class="child-category-list">
      
      <li>
        <strong style="font-size: larger;">
          &nbsp;&nbsp;&nbsp;
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/AI/AITOOLS/">AITOOLS</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 3 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          &nbsp;&nbsp;&nbsp;
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/AI/CV/">CV</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 2 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          &nbsp;&nbsp;&nbsp;
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/AI/DEEP_LEARNING/">DEEP_LEARNING</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 1 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          &nbsp;&nbsp;&nbsp;
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/AI/DATA_VIS/">DATA_VIS</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 2 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          &nbsp;&nbsp;&nbsp;
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/AI/GRAPH/">GRAPH</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 1 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          &nbsp;&nbsp;&nbsp;
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/AI/LIGHTWEIGHT/">LIGHTWEIGHT</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 1 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          &nbsp;&nbsp;&nbsp;
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/AI/MATH/">MATH</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 1 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          &nbsp;&nbsp;&nbsp;
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/AI/NLP/">NLP</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 3 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          &nbsp;&nbsp;&nbsp;
          ┗ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/AI/STRUCTURED_DATA/">STRUCTURED_DATA</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 2 
            
          </span>
      </li>
      
    </ul>
  </li>
  
</ul>
      </div>
      <hr>
      <div class="recent-view">
        <h3 style="margin: 0;">Recent views</h3>
        <ul style="margin: 0;">
          <li>
            <strong style="color:rgb(219, 219, 12);">1 <a id="recent-1"></a></strong>
          </li>
          <li>
            2 <a id="recent-2"></a>
          </li>
          <li>
            3 <a id="recent-3"></a>
          </li>
          <li>
            4 <a id="recent-4"></a>
          </li>
          <li>
            5 <a id="recent-5" style="overflow: hidden;"></a>
          </li>
        </ul>
      </div>
    </div>
    <hr>
  <div style="height: 7vh;"></div>
</div>
    <div class="wrapper">
      <article class="article h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="article-header">
    <h1 class="article-title a-name" itemprop="name headline">네트워크 정리-Chap 7-무선과 모바일 네트워크</h1>
    <p class="article-meta">
      <time class="dt-published" datetime="2022-08-22T13:34:16+09:00" itemprop="datePublished">Aug 22, 2022
      </time></p>
  </header>

  <div class="article-content e-content" itemprop="articleBody">
     
  
<script>
  MathJax = {
    tex: {
      inlineMath: [
        ["$", "$"],
        ["\\(", "\\)"],
      ],
    },
    svg: {
      fontCache: "global",  
     // scale: 1.5,
    },
    chtml: {
     // scale: 1.5,
    },
  };
</script>
<script
  type="text/javascript"
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>
 
 


<script src="/assets/scripts/bundle/obsidian.bundle.js"></script>
<link rel="stylesheet" href="/assets/css/obsidian/callout.css" />
<link rel="stylesheet" href="/assets/css/obsidian/image.css" />
<link rel="stylesheet" href="/assets/css/obsidian/link-warning.css" />
<link rel="stylesheet" href="/assets/css/obsidian/preview.css" />

<div class="content-section">
  <html><head></head><body><h1 id="Chapter-7-무선과-모바일-네트워크-Wireless-and-Mobile-Networks">Chapter 7. 무선과 모바일 네트워크(Wireless and Mobile Networks)</h1>

<ol id="markdown-toc-0"><li lvl="3"><a id="markdown-toc-0-0" href="#7-1-소개-Introduction">7.1 소개(Introduction)</a><ul></ul></li><li lvl="3"><a id="markdown-toc-0-1" href="#7-2-무선-연결과-네트워크-특성-Wireless-Links-and-Network-Characteristics">7.2 무선 연결과 네트워크 특성 (Wireless Links and Network Characteristics)</a><ul></ul></li><li lvl="3"><a id="markdown-toc-0-2" href="#7-3-WiFi-802-11-무선-LANs-WiFi-802-11-Wireless-LANs">7.3 WiFi: 802.11 무선 LANs (WiFi: 802.11 Wireless LANs)</a><ul></ul></li><li lvl="3"><a id="markdown-toc-0-3" href="#7-4-무선-네트워크-4G와-5G-Cellular-Networks-4G-and-5G">7.4 무선 네트워크 : 4G와 5G (Cellular Networks: 4G and 5G)</a><ul></ul></li><li lvl="3"><a id="markdown-toc-0-4" href="#7-5-이동성-관리-원칙-Mobility-Management-Principles">7.5 이동성 관리: 원칙(Mobility Management: Principles)</a><ul></ul></li><li lvl="3"><a id="markdown-toc-0-5" href="#7-6-실무에서의-이동성-관리-Mobility-Management-in-Pratice">7.6 실무에서의 이동성 관리 (Mobility Management in Pratice)</a><ul></ul></li><li lvl="3"><a id="markdown-toc-0-6" href="#7-7-무선과-이동성-상위-계층-포로토콜에의-영향-Wireless-and-Mobility-Impact-on-Higher-Layer-Protocols">7.7 무선과 이동성: 상위 계층 포로토콜에의 영향  (Wireless and Mobility: Impact on Higher-Layer Protocols)</a><ul></ul></li></ol>
<div class="callout callout-quote" id="callout-7b56aed6-c525-44e5-a37a-15a9a5492e54">
      <div class="header">
        <span class="emoji">🗣️</span>
        <span class="title"><strong>출처
</strong></span>
        <button class="collapse">🔼</button>
      </div>
      <div class="card" name="card">
    
    <div class="content" name="content">
<blockquote>
  <p>Computer Networking: A Top-Down Approach(Jim Kurose, Keith Ross)의 강의를 정리한 내용입니다.<br>
(<span class='link-warning'>
      <a href="http://gaia.cs.umass.edu/kurose_ross/index.html" class="wikilink externallink">Jim Kurose Homepage</a>
      <a class="link-title" href="#" stlye="display: none;"></a>
      <span class='link-warning-text' style="display: none;" >보안 확인 : <em>외부링크</em><br/><em>
      "http://gaia.cs.umass.edu/kuros..."</em>로
        <button onclick="window.open('http://gaia.cs.umass.edu/kurose_ross/index.html','_blank'); return false;">이동</button>?
      </span>
    </span>)</p>

  <p>student resources : <span class='link-warning'>
      <a href="https://media.pearsoncmg.com/ph/esm/ecs_kurose_compnetwork_8/cw/" class="wikilink externallink">Companion Website, Computer Networking: a Top-Down Approach, 8/e</a>
      <a class="link-title" href="#" stlye="display: none;"></a>
      <span class='link-warning-text' style="display: none;" >보안 확인 : <em>외부링크</em><br/><em>
      "https://media.pearsoncmg.com/p..."</em>로
        <button onclick="window.open('https://media.pearsoncmg.com/ph/esm/ecs_kurose_compnetwork_8/cw/','_blank'); return false;">이동</button>?
      </span>
    </span></p>
</blockquote>

</div>
    </div>
    </div>
<p>무선 네트워크와 장치들은 점점 인기있어지고 있다.</p>

<p><strong>무선 네트워크의 통신법, 특히 네트워크 계층과 연결 계층이 기존의 유선망과 상당히 다른 경향</strong>을 보이므로 따로 챕터를 할애하게 되었다.</p>

<p>모바일 사용자, 무선 연결, 네트워크, 그리고 이들과 연결되는 유성 네트워크에 대해서 설명하고, 무선 네트워크의 어려움과 이동성(mobility)의 방법을 알아보자.</p>

<p>먼저 가장 처음에는 무선 접근 기반과 관련 용어에 대해 배우고 무선망의 특성에 대해 배우자.</p>

<p>이외에도 CDMA(code division mutiple access), IEEE 802.11(WiFi), Bluetooth, 4G, 5G, 이동성 서비스(mobility service), 모바일 IP 기준, 전달 계층과 응용 계층에 준 영향 등에 대해 배울 것이다.</p>

<h3 id="7-1-소개-Introduction">7.1 소개(Introduction)</h3>

<p>figure 7.1은 무선 네트워크의 통신과 이동성에 대해 생각해볼 수 있게 만든 자료이다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211119223741335.png" alt=""></p>

<p>우리는 이 그림에서 다음과 같은 요소들을 알 수 있다.</p>

<ul>
  <li>
    <p><strong>무선 호스트들(Wireless hosts)</strong></p>

    <p>유선 네트워크에서는 호스트는 응용프로그램을 돌리는 말단 시스템 장치(end-system devices)였지만, 무선 호스트는 스마트폰, 노트북, IOT (Internet of Thinigs) 장비, 센서, 등의 장비가 될 수 있으며, 이동성을 가지고 있을 수 있다.</p>
  </li>
  <li>
    <p><strong>무선 연결들(Wireless links)</strong></p>

    <p>무선 호스트는 기지국이나 다른 무선 호스트와 무선 통신 연결(wireless communication link)로 연결된다.</p>

    <p>각기 다른 무선 연결 기술마다 전송율과 통신 거리가 다르며, <strong>figure 7.2에서 연결 전송율(link transmission reate)와 커버리지 영역(coverage range)이라는 무선 네트워크의 특별한 특성 및 기준</strong>에 대해 알 수 있다.</p>

    <p>비트 에러 비율 및 원인 같은 기타 다른 특성은 7.2 절에 배운다.</p>

    <ul>
      <li>물론 위와 같은 특성의 값은 사용자 수, 채널 상태, 거리 등에 의해 증가할 수도 있고 줄어 들 수 있으며, 절대적 기준이 아니다.</li>
    </ul>

    <p>무선 연결이 언제나 네트워크의 말단에서만 일어나지만은 않으며, 라우터, 스위치 등을 연결하는데 사용되기도 하지만 여기서는 여러 문제와 어려움이 나타나고 있는 말단만 다룬다.<br>
<img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211119223826784.png" alt=""></p>
  </li>
  <li>
    <p><strong>기지국(Base station)</strong></p>

    <p>기지국은 무선 네트워크의 핵심 기반시설이다. 유선망과 적절하게 들어맞는 예시가 없다.</p>

    <p><strong>기지국은 연관된 무선 호스트와 패킷 같은 데이터를 주고 받는 것과 전송들을 조정하는 역할</strong>을 맡는다.</p>

    <p>휴대폰 네트워크의 셀 타워(cell tower)와 와이파이 LAN의 접근 지점(access point)이 기지국의 예시이다.</p>

    <p>기지국은 연결 계층 릴레이 처럼 호스트와 인터넷, 사내망 처럼 더욱 커다란 네트워크를 연결해주는 역할을 한다.</p>

    <p>이러한 <strong>기지국으로 운영되는 호스트들을 기반시설 모드(infrastructre mode)라고 하며, 라우팅, 주소 할당 같은 전통적인 네트워크 서비스는 연결된 기지국을 통해서</strong> 이루어지면,</p>

    <p><strong>기지국을 사용하지 않는 무선 호스트들의 네트워크를 애드 혹 네트워크(ad hoc network)라고 부르며, 각각 호스트들이 스스로 라우팅, 주소할당, DNS 등의 기능을 제공</strong>해야 한다.</p>

    <p>만약 <strong>이동성이 있는 호스트가 기지국의 범위를 벗어나 다른 기지국의 범위 들어서면, 네트워크의 소속과 연결을 바꾸어야 하며, 이를 핸드 오프(handoff), 핸드 오버(handover)라고</strong> 부르며, 그러한 이동성 서비스는 어려운 문제이다.</p>

    <p>예를 들어, 핸드오버되면 TCP 연결은 어떻게 되는가? 중간에 겹치는 범위에 있으면 어떻게 해야하는가? 끊이없이 바뀌는 네트워크 주소상 위치는 어떻게 추적하는가? 등의 문제가 있다.</p>
  </li>
  <li>
    <p><strong>네트워크 기반시설(Network infrastructure)</strong></p>

    <p>무선 호스트가 연결하고 싶은 인터넷 같은 더욱 규모가 큰 네트워크를 의미한다.</p>
  </li>
</ul>

<p>위와 같은 요소들은 무선 네트워크의 형태와 종류에 따라 여러 방식으로 조합될 수 있으며, 무선 네트워크는 크게 2가지 방법으로 구분될수 있다.</p>

<ol>
  <li>
    <p><strong>패킷이 한번의 무선 홉으로 호스트들에게 전달되는가? 아니면 여러번의 무선 홉으로 전달되는가?</strong></p>
  </li>
  <li>
    <p><strong>기지국(base station)같은 기반 시설이 네트워크에 존재하는가?</strong></p>
    <ul>
      <li><strong>단일 홉, 기반시설 기반 (single-hop, infrastructure-based)</strong></li>
    </ul>
  </li>
</ol>

<p>호스트들이 단 한번의 무선 홉과 기지국의 연결을 이용해 인터넷 같은 더욱 규모가 큰 네트워크와 연결된다.</p>

<p>대다수의 무선 연결을 차지하며 와이파이, 4G LTE 등이 예시이다.</p>

<ul>
  <li>
    <p><strong>단일 홉, 기반시설 비의존적 (single-hop, infrastructure-less)</strong></p>

    <p>기반시설이 존재하지 않으며, 무선 호스트들이 스스로 다른 노드들과 전송을 조율해야 한다.</p>

    <p>블루투스(Bluetooth: 키보드, 스피커, 헤드셋 등의 근거리 소규모 통신에 사용)가 대표 예시이다.</p>
  </li>
  <li>
    <p><strong>다중 홉, 기반시설 기반 (multi-hop, infrastructure-based)</strong></p>

    <p>기반 시설이 존재하지만 릴레이나 다른 무선 노드들을 이용해 통신할 수 있다.</p>

    <p>일부 무선 센서 네트워크나 무선 메시 네트워크(wireless mesh network)가 대표적인 예시이다.</p>
  </li>
  <li>
    <p><strong>다중 홉, 기반시설 비의존적 (multi-hop, infrastructure-less)</strong></p>

    <p>기반시설이 없으며, 목적 노드와 연결을 위해 여러 다른 노드들과 메시지를 릴레이한다.</p>

    <p>다른 노드들 또한 이동성을 가지고 있어 연결성(connectivity)가 언제나 바뀔 수 있으며, 이러한 네트워크를 MANET(모바일 에드 혹 네트워크, mobile ad hoc network)이라고 부른다. 만약 모바일 노드가 탈 것이라면, VANET(탈것용 에드 혹 네트워크, vehicular ad hoc network)라고 부른다.</p>

    <p>상당히 어렵고 여러곳에서 연구되는 분야이다.</p>
  </li>
</ul>

<p>이번 챕터에서는 대다수의 이야기가 단일 홉, 기반시설 기반 (single-hop, infrastructure-based)으로 이루어진다.</p>

<h3 id="7-2-무선-연결과-네트워크-특성-Wireless-Links-and-Network-Characteristics">7.2 무선 연결과 네트워크 특성 (Wireless Links and Network Characteristics)</h3>

<p>무선 연결은 다음과 같은 점이 유선망과 다른 특성이다.</p>

<ul>
  <li>
    <p><strong>신호 강도 약화(decreasing signal strength)</strong></p>

    <p>전자기적 복사는 매질을 통과할 수록 약해지며, 자유 공간 상에서도 송수신자 간의 거리가 멀어지면 점점 분산되어 신호 강도가 약해지진다.(<strong>경로 손실(path loss)</strong>라고도 부른다.)</p>
  </li>
  <li>
    <p><strong>다른 기반으로 부터의 방해(Interference from other sources)</strong></p>

    <p>동일한 주파수 대역을 가진 무선 기반들은 서로 간섭하여 방해 될 수 있다.</p>

    <p>같은 대역을 사용하는 2.5 GHz 무선폰과 802.11b 와이파이 LAN, 모니터, 전자렌지 등에서 나오는 주파수 노이즈 등이 예시이다.</p>

    <p>최근에는 이러한 방해를 막으려고 몇몇 802.11 기준이 5GHz 주바수 대역으로 바뀌었다.</p>
  </li>
  <li>
    <p><strong>다중 경로 전파(Mutipath propagation)</strong></p>

    <p>다중 경로 전파는 지면이나 몇몇 물체에 전자기파가 반사되어 송수신 거리가 다른 경로들이 있을 때 생겨난다. 이는 수신자가 받는 신호가 흐려지는 결과를 낳으며, 물체가 이동함에 따라 강도가 바뀌거나 생기거나 할 수 있다.</p>
  </li>
</ul>

<p>무선 채널의 추가적인 특성은 [Anderson 1995; Almers 2007]를 참고하자.</p>

<p>위와 같은 특성 덕분에 비트 에러가 유선에 비해 자주 일어나며, 이를 막기위해 무선 프로토콜들은 재전송을 이용한 데이터 신뢰성 프로토콜이나 강력한 CRC 에러 감지 등을 이용한다.</p>

<p>호스트들은 전자기적 신호를 받을 때, 주변 환경의 노이즈와 상기했던 이유들로 약해진 원본 전송 신호가 섞인 신호를 받게 된다. 이때 <strong>SNR(신호대 노이즈 비율, signal-to-noise ratio)은 받은 전송 신호대 노이즈의 상대적 비율로, 주로 데시벨(dB, decibel)이라는 전기 공학적 용어를 이용해 측정</strong>한다.</p>

<p><strong>dB로 측정된 SNR은 받은 신호의 진폭 대 노이즈의 진폭을 10이 밑인 로그함수로 표시한 비율의 20배로 측정되며, 쉽게 말해 SNR 값이 클수록 노이즈가 적고 많은 전송신호가 온 양질의 신호라고 생각하면 된다.</strong></p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211119224159123.png" alt=""></p>

<p>figure 7.3은 각기 다른 전송을 위한 정보 인코딩 조정(modulation) 방법에 따른 기술에 따른 NSR, 비트 에러 비율(BER, bit error rate: 전송한 비트가 에러일 확률, 낮을 수록 좋다), 전송비율에 대한 그래프이다.</p>

<p>이는 몇몇 상위 계층의 무선 통신 프로토콜을 이해하는데 중요한 물리 계층 특징을 보여준다.</p>

<ul>
  <li>
    <p><strong>조정(modulation) 방법이 같으면, SNR을 높이면 BER이 줄어든다.(For a given modulation scheme, the higher the SNR, the lower the BER.)</strong></p>

    <p>송신자가 SNR을 높이기 위해 전송 세기(transmission power)를 높이면, 비트 에러 비율, BER을 낮출 수 있다. 하지만 BER읠 $10^{-12}$에서 $10^{-13}$로 줄이는 정도의 일정 한계(threshold)를 넘기면 그 뒤 부터 전송 세기를 높여도 비효율적이며, 모바일 장치 같은 경우 배터리가 빨리 달게되며, figure 7.4(b)처럼 전송세기가 강할 수록 주변 기기의 신호와 서로 방해가 되게 된다.</p>
  </li>
  <li>
    <p><strong>SNR이 같으면, 높은 비트 전송율을 보이는 조정 방법이 높은 BER을 가진다.(For a given SNR, a modulation technique with a higher bit transmission rate (whether in error or not) will have a higher BER.)</strong></p>

    <p>figure 7.3을 보면 같은 SNR이여도 전송율(transmission rate)가 높을 수록 BER이 높은 경향이 있다. 이러한 전송 비율은 조정 방법에 따라 달라진다.</p>

    <p>이러한 특성은 다음과 같은 특성을 야기한다.</p>
  </li>
  <li>
    <p><strong>동적인 물리 계층 조정 기술 선택을 이용한 채널 상태에 따른 조정 기술(Dynamic selection of the physical-layer modulation technique can be used to adapt the modulation technique to channel conditions)</strong></p>

    <p>SNR과 BER은 주변 환경과 이동성에 따라 바뀔 수 있다. 802.11 WiFi와 4G, 5G에 사용된 적응형 조정 및 인코딩 방법을 나중에 배울 것이다.</p>

    <p>즉 현재의 SNR, BER 그리고 주변 환경과 조건에 따라 조정 방법을 바꾸는 방법이 가능하다.</p>
  </li>
</ul>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211119224650125.png" alt=""></p>

<p>높고 시간에 따라 변하는 BER이 유선과 무선의 유일한 차이가 아니며 Figure 7.4(a)의 경우 처럼 <strong>무선 통신 경로 상의 빌딩, 산 같은 물리적 장애물로 인해 생기는 숨겨진 터미널 문제(hidden termnial problem)</strong>로 인해 A와 C 간의 통신이 힘들 수 있다.</p>

<p>두번째 시나리오는 <strong>무선 매체를 통해 전파되는 신호의 강도가 사라지는(fading) 현상</strong>에 의해 수신자 측에서 감지할 수 없는 충돌이 생기는 현상이다.</p>

<p>Figure 7.4(b)는 A와 C가 서로를 인지할 수 있을 정도로 신호가 강하지 않지만, 수신자 측인 B 입장에서는 A와 C를 감지할 수 있을 정도로 신호가 강하여, A와 C의 신호가 서로 충돌하게 된다.</p>

<p>만약 서로 감지할 수 있었다면, 신호에 대한 상호 조정이 가능하여 충돌을 방지할 수 있었을 것이다.</p>

<p>위와 같은 두 문제는 유선망보다 무선망의 문제가 더욱 복잡하게 만드는 원인이다.</p>

<h4 id="7-2-1-CDMA">7.2.1 CDMA</h4>

<p>앞선 챕터에서 공부했듯이 공유하고 있는 채널, 매질에서 다수의 노드가 서로의 신호를 방해하지 않기 위해 조정하는 프로토콜이 필요했으며, 3가지 분류가 있었다.</p>

<p>채널 나눔(channel partitioning), 무작위 접근(random access), 순번(taking turns) 프로토콜 이며, <strong>CDMA(코드 나눔 다중 접근, code division multiple access)는 채널 나눔 프로토콜에 속했으며, 무선 네트워크에 널리 사용되는 방식</strong>이다.</p>

<p><strong>CDMA 프로토콜에서는 보내진 각 비트는 원본 데이터 비트 순서보다 훨씬 빠른 처리율(chipping rate 라고도 한다. 물리적인 DSSS(<span class='link-warning'>
      <a href="https://en.wikipedia.org/wiki/Direct-sequence_spread_spectrum" class="wikilink externallink">direct-sequence spread spectrum</a>
      <a class="link-title" href="#" stlye="display: none;"></a>
      <span class='link-warning-text' style="display: none;" >보안 확인 : <em>외부링크</em><br/><em>
      "https://en.wikipedia.org/wiki/..."</em>로
        <button onclick="window.open('https://en.wikipedia.org/wiki/Direct-sequence_spread_spectrum','_blank'); return false;">이동</button>?
      </span>
    </span>)의 파동?)로 처리하는 신호(또는 코드)로 인코딩된다.</strong></p>

<ul>
  <li>아래 예시의 Data bits 아래의 Code 부분을 의미하며, 아마 하나의 비트를 더욱 잘게 쪼개 처리하는 듯 하다.</li>
</ul>

<p>Figure 7.5는 간단하고 이상적인 CDMA의 인코딩 디코딩 시나리오이다.</p>

<p>각 비트 하나를 보내는데 걸리는 시간을 비트 슬롯 시간이라는 단위라고 가정하고, $d_i$는 i번째 비트 슬롯의 비트 값이다.</p>

<p>여기서는 수학적인 편의를 위해 비트 0의 값을 -1로 가정하겠으며, 각 비트 슬롯은 M개의 미니슬롯으로 나뉘며 여기서 M은 8이다.</p>

<p>각 미니슬롯은 CDMA code를 나누며, code의 i번째 값들은 $c_m$이라고 하며 1~M까지 있다고 하며 $c_m$은 -1 또는 1이다.  예를 들어 Figure 7.5의 송신자가 사용하는  M-비트 CDMA 코드는 (1,1,1,-1,1,-1,-1,-1)이다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211119225049077.png" alt=""></p>

<p>CDMA 인코더의 출력 $Z_{i,m}$은 다음과 같이 구한다.</p>

<p>$Z_{i,m}=d_i\cdot c_m$</p>

<p>송신 측으로 부터 간섭이 없었다면, 수신자 측은 수신받은 인코딩된 비트 $Z_{i,m}$를 이용하여 아래와 같은 식으로 원본 데이터 비트$d_i$를 구할 수 있으며 위의 Figure 7.5에 묘사되어 있다.</p>

<p>$d_i=\frac{1}{M}\sum^M_{m=1}Z_{i,m}\cdot c_m$</p>

<p>하지만 실제 현실에서는 외부 환경에 의한 간섭으로 신호가 바뀌고, CDMA 코드 또한 제각기 송신자 마다 다르다.</p>

<p>현실에서는 송신자 각자의 신호가 간섭하여 더해졌다고 가정하고 진행된다. 예를 들어 3명의 송신자가 1을 보낸 타이밍에 1명의 송신자가 -1을 보냈다면 도착한 값은 (1+1+1-1)=2 라는 식으로 신호를 바라본다.</p>

<p>이 식을 이용해 수신자 S의 인코딩된 전송신호 $Z^S_{i,m}$을 구하는 것은 이전과 동일하고, N명의 송신자가 간섭하여 받은 전송신호 $Z_{i,m}^*$은 다음과 같이 구한다.</p>

<p>$Z_{i,m}^*=\sum^N_{s=1}Z^s_{i,m}$</p>

<p>만약, 송신자가 CDMA 코드를 잘골라 수신자 측에 알려줬다면, 수신자 측에서 해당 코드를 이용해 아래와 같은 식으로 원본 데이터 비트를 구할 수 있다.</p>

<p>$d_i=\frac{1}{M}\sum^M_{m=1}Z^*_{i,m}\cdot c_m$</p>

<p>Figure 7.6에서 보이듯이 두명의 송신자가 보내어 간섭 받은 인코딩 신호 $Z_{i,m}^*$에서 1번째의 송신자의 CDMA 코드를 알고 있는 수신자 1이 1번째 송신자의 원본 데이터 비트를 구할 수 있다. 만약 2번재 송신자의 CDMA 코드를 알고 있다면, 2번째 송신자의 원본 데이터도 알 수 있을 것이다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211125105011302.png" alt=""></p>

<p>이는 마치 시끄러운 반 내부에서 목소리를 아는 두 친구가 서로의 대화를 특정 목소리(코드)를 잘 구별하여 대화하는 것과 같다.</p>

<p><strong>CDMA는 이렇게 코드(목소리)를 송신 노드 별로 나누어 동시에 송수신할 수 있으므로 채널 나눔 프로토콜에 속한다.</strong> (이전에 CDMA 배울 때 설명하지 못한 부분)</p>

<p>실제로는 현실에서 이보다 더욱 어려운데, <strong>첫번째로 CDMA 송신자가 CDMA 코드를 세심하게 골라야 한다는 점이고, 두번째는 현재 우리는 모든 송신자가 같은 강도로 신호를 보내 같은 비율로 신호가 더해져 간섭한다고 가정했지만 실제로는 송신자의 신호마다 강도가 다르므로</strong> 단순히 1+1+1-1 식으로 계산할 수 없다.</p>

<p>자세한 CDMA의 문제 해결은 [Pickholtz 1982; Viterbi 1995]에서 볼 수 있다.</p>

<h3 id="7-3-WiFi-802-11-무선-LANs-WiFi-802-11-Wireless-LANs">7.3 WiFi: 802.11 무선 LANs (WiFi: 802.11 Wireless LANs)</h3>

<p>무선 LAN(wirelss LAN)은 가장 중요하고 인기있는 접근 네트워크중 하나이며, 그 중 으뜸은 단연 <strong>IEEE 802.11 wireless LAN, 또는 WiFi</strong> 이다.</p>

<p>802.11 wireless LAN의 프레임 구조, 매체 접근 프로토콜, 이더넷 LAN 과의 상호작용에 대해서 알아보자.</p>

<p>Table 7.1에 요약된 대로, 802.11 기준은 여럿이 있다. (802.11 생략) b, g, n, ac, ax는 802.11 기술의 WLAN(wireless local area network)의 산물이며, 70m 범위의 사무소, 가정 등에 사용되었다.</p>

<p>n, ac, ax 기준은 WiFi 4, 5 ,6이라고 불리우며 4G와 5G 기술과 경쟁하였다.</p>

<p>af, ah 기준은 IOT, 센서 네트워크 등의 좀 더 먼 거리의 통신을 위해 운용된다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211119225803135.png" alt=""></p>

<p>각기 다른 b, g, n, ac ,ax 버전은 <strong>프레임 구조, 매체 접근 프로토콜(medium access protocol)인 CSMA/CA, 무선 장비들의 전송을 위한 기지국에 의한 중앙화 스케듈링, 과거 버전과의 호환 등을 공유</strong>한다.</p>

<p>하지만 각 기준들은 Table 7.1에서 보듯이 물리 계층의 특색이 다른데,</p>

<p>예를 들어 각기 다른 두 주파수 대역에서 운영된다</p>

<ul>
  <li>
    <p><strong>2.4 GHz 범위(2.4~2.485 GHz 범위)</strong> : 라이센스가 필요없는 주파수 범위로, 2.4GHz의 핸드폰, 전자레인지와 주파수 경쟁을 해야한다.</p>
  </li>
  <li>
    <p><strong>5 GHz 범위(5.1~5.8 GHz 범위)</strong> : 2.4 GHz 범위에 비해 같은 전송세기에서 비교적 짧은 전송거리와 많은 다중경로 전파 문제를 겪는다.</p>
  </li>
</ul>

<p>또한, n, ac, ax 기준에는 다른 MIMO(다중 입력, 다중 출력, multiple input multiple-output) 안테나를 이용하며, 이를 이용해 좀더 다양한 주파수 대역을 받아들인다.</p>

<p>ac, ax는 여러 스테이션에게 동시에 전송할 수 있으며, 스마트 안테나를 이용해 적응적으로 수신자의 물리적 방향을 향해 전송하여 간섭을 줄이고 최대 전송 거리를 늘릴 수 있다.</p>

<p>Table 7.1에서의 값들은 이상적인 상황에서 값들이며, 실제와는 다를 수 있다.</p>

<h4 id="7-3-1-802-11-무선-LAN-구조-The-802-11-Wireless-LAN-Architecture">7.3.1 802.11 무선 LAN 구조 (The 802.11 Wireless LAN Architecture)</h4>

<p>Figure 7.7은 802.11 Wireless LAN Architecture의 기본적인 요소들의 그림이다.</p>

<p>가장 기본이 되는 블록인 <strong>BSS(기본 서비스 셋, basic service set)은 하나 이상의 무선 스테이션, 그리고 하나의 AP(접근 지점, access point)라고도 불리우는 중앙 기지국(central base station)</strong>로 이루어져 있다.</p>

<p>Figure 7.7은 각 BSS에 속하는 AP와 상호작용하는 기기들과, AP와 연결되어 인터넷에 연결시켜주는 라우터를 볼 수 있다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211119225933164.png" alt=""></p>

<p>이더넷에서 각 802.11 무선 스테이션에는 6바이트의 MAC 주소가 어뎁터에 펌웨어 안에 존재하며, 각 AP 또한 그러하다.</p>

<p><strong>AP가 배포 중인 무선 LA을 기반시설 무선 LAN(infrastructure wireless LANs)이라고 불리우는데 AP와 이더넷이 라우터와 AP를 상호 연결</strong>하기 때문이다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211119230015084.png" alt=""></p>

<p>Figure 7.8의 경우 IEEE 802.11 스테이션들이 스스로 그룹 네트워크를 이루어 에드 혹 네트워크를 이룬 모습이며, 중앙 제어 네트워크나 외부 연결이 없다.</p>

<p>서로 통신해야 하는 장치들 간에 모여 중앙 제어나 기반 네트워크, AP 없이 서로간에 통신할 수 있으며, 상당한 관심을 끌어모았지만, 우리는 이곳에서  기반시설 무선 LAN(infrastructure wireless LANs)에만 관심을 둘 것이다.</p>

<h5 id="채널과-연관-Channels-and-Association">채널과 연관 (Channels and Association)</h5>

<p>802.11에서는 각 무선 스테이션이 AP와 연결되어야 데이터를 주고 받을 수 있다. IEEE 802.11b, g, ,b, ac, ax에 대해서 알아보자.</p>

<p><strong>네트워크 관리자가 AP를 설치하면 1~2 단어의 SSID(서비스 셋 식별자, Service set identifier)를 AP에 설정해준다.</strong> (스마트폰 WiFi 설정에 보이는 리스트)</p>

<p>그 뒤에 네트워크 관리자는 <strong>AP에게 채널 번호(channel number)를 할당</strong>해줘야 한다.</p>

<p><strong>채널 번호는 802.11에 할당된 2.4GHz ~ 2.4835GHz 사이의 85MHz 대역폭을 11개의 채널로 나누어 사용</strong>한다.</p>

<p>이때 각 채널들은 주변 번호의 채널들과 조금씩 대역폭이 겹치는데, 대략 한번에 4개 채널 정도가 겹치므로, 서로 간섭하게 되며 <strong>만약 전혀 겹치지 않은 3개의 채널을 사용하고 싶다면 3개의 AP를 각각 1, 6, 11 채널로 설정해주면 최대 전송율을 가진 채널 3개를 같은 물리적 공간 안에 설정</strong>해줄 수 있다.</p>

<p>여러 AP들이 WiFi를 설정하다 보면, <strong>수 많은 AP들과 통신이 가능한 물리적 위치가 존재하는 데 이를 WiFi 정글(WiFi Jungle)</strong>이라고 한다.</p>

<p>사용자는 그 중에서 수동적으로 선택하거나 장치의 알고리즘(어떤 AP를 고를까는 공식화되지 않았으며, 회사마다 다르지만 보통 신호 강도가 센 AP를 고른다.)에 따라 참여(associate: AP와 장치가 가상의 연결을 가지게 됨)할 AP를 고르게 된다.</p>

<ul>
  <li>사실 신호세기가 무조건 최고의 선택이 아닐 수도 있는데, 여러 AP가 같은 채널을 사용하고 있을 수도 있고, 너무 많은 장치가 연결되어 있을 수도 있다.</li>
  <li>좋은 선택을 하는 방법은 [Vasudevan 2005; Nicholson 2006; Sundaresan 2006]에서 볼수 있으며, 신호 세기를 측정하는 방법은 [Bardwell 2004] 참조,</li>
</ul>

<p>이때, <strong>장치가 AP의 존재를 알 수 있는 방법은 두가지</strong>가 있다.</p>

<ul>
  <li>
    <p><strong>수동 탐지(Passive scanning)</strong>: Figure 7.9 (a)</p>

    <p>802.11의 기준, AP가 주기적으로 AP의 SSID와 MAC 주소가 적힌 비컨 프레임(beacon frame)을 주변 장치들에게 보낸다.</p>

    <p>이후 사용자가 참여하고 싶은 AP과 요청, 응답 프레임을 주고 받아서 참여한다.</p>
  </li>
  <li>
    <p>**능동 탐지(Active scanning) **: Figure 7.9 (b)</p>

    <p>무선 장치가 주변 도달가능 범위 내의 모든 AP에게 탐지 프레임(probe frame)을 보내면 AP가 그에 반응해 응답 프레임을 보내고, 장치가 AP 중 하나를 선택하여 참여하는 방식이다.</p>
  </li>
</ul>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211119230132799.png" alt=""></p>

<p>능동적 탐지에서 사용자의 장치가 참여할 AP를 골랐다면, 참여(association) 요청 프레임을 AP에게 보내게 되고 AP는 응답 메시지를 보내게 되는데, 이러한 <strong>요청/응답 handshake는 필수적이다</strong>.</p>

<p>DHCP와 유사하게, <strong>AP 입장에서 사용자가 여러 제안 중 자신의 제안을 받아들일지 알 수 없기 때문에, 사용자가 명시적으로 제안을 받아 들이겠다고 요청해야하며, 요청이 받아들여지면 장치에게 IP를 주기 위해 DHCP 절차가 행해지고, 해당 AP의 서브넷에 참여</strong>하게 된다.</p>

<p>AP에 참여하려면, 인증(authenticate)을 하게 만들 수 도 있다.</p>

<p><strong>802.11 무선 LAN의 인증과 접근 방법은 여럿이 존재하며,예시를 들자면 장치의 MAC 주소를 기반으로 하는 것과 패스워드 방식</strong>이 있다.</p>

<p>두 방법 모두 AP가 인증 서버와 RADIUS[RFC 2865], DIAMETER[RFC 6733] 같은 보안 프로토콜을 이용해 통신하여 확인 받으며, 여러 AP를 운영하는 경우 하나의 인증 서버에 여러 AP와 통신하도록 하게하여, 보안성, 비용 효율성, 구조의 간단함 등을 높일 수 있다.</p>

<p>보안의 자세한 부분은 8장에서 다루겠다.</p>

<h4 id="7-3-2-802-11-MAC-프로토콜-The-802-11-MAC-Protocol">7.3.2 802.11 MAC 프로토콜 (The 802.11 MAC Protocol)</h4>

<p>AP의 서브넷에 참여했지만, AP에 참여한 다른 장치들이나 AP 측에서 보내는 전송에 의해 충돌이 일어날 수 있으므로, AP를 포함한 통신 장치들은 다중 접근 프로토콜(multiple access protocol)에 의해 제어되어야 한다.</p>

<p><strong>이터넷의 영향으로 802.11은 무작위 접근 프로토콜(random access protocol), 그중에서도 CSMA/CA(CSMA with collision avoidance)을 사용</strong>하며, CSMA의 반송파 감지(carrier sense)의 의미는 전송 하기전에 채널의 상태를 감지하고, 채널이 바쁘면 전송을 보류한다는 의미이다.</p>

<p><strong>CSMA/CA는 이더넷에서 사용하는 CSMA/CD와 다르다</strong>는 것을 유의하자,</p>

<p>다만 이더넷의 MAC(다중 접근 제어, multil access control, MAC 주소의 Media acess control과 헷갈리지 않게 주의) 프로토콜과는 두가지가 다른데,</p>

<p><strong>첫번째는 충돌 감지 대신 802.11은 충돌 회피 기술을 사용한다는 점,</strong></p>

<p><strong>두번째는 비교적 높은 비트 에러율 때문에, 802.11은 연결 계층 답신(acknowledgement)/재전송 (ARQ)를 사용한다는 점이다.</strong></p>

<p>앞서 이터넷(802.3)의 충돌 감지에서는 전송 중에 다른 전송이 감지되면 즉시 전송을 멈추고 무작위 시간동안 기다렸다가 재전송을 시도하는 방식이였다.</p>

<p>하지만 <strong>802.11 MAC 프로토콜에서는 충돌 감지 기능이 존재하지 않는데 두가지 이유</strong> 때문이다.</p>

<ul>
  <li>충돌 감지를 위해서는 동시에 송신(적절한 순간에 나의 패킷 송신을 위해)과 수신(다른 노드의 전송을 감지하기 위해)하는 기능이 있어야한다. 하지만 무선 환경에서는 송신 신호에 비해 수신 신호는 상대 송신측이 멀리서 보내는 걸테니 비교적 약하게 측정되므로, <strong>송신 신호를 보내면서 동시에 송신 신호에 간섭받고, 멀리서 오느라 미약해진 수신 신호를 감지하는 기능을 구현하는 하드웨어가 비싸진다.</strong></li>
  <li>만약, 그러한 하드웨어를 구현한다고 해도, <strong>숨겨진 터미널 문제(hidden terminal problem)와 감쇠(fading)로 인해 모든 충돌을 감지할 수 없다</strong>. 예를 들어 A와 C가 동시에 B에 송신하고 있는 충돌 상태를 A와 C 사이가 너무 멀어 감쇠(fading)되어있거나 A와 C 사이에 장애물이 있어 서로를 감지못하면 충돌 또한 감지 못한다.</li>
</ul>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211119230316012.png" alt=""></p>

<p>충돌 방지 기능이 없으므로, 결국 <strong>802.11 무선 LAN에서는 전송을 한번 시작하면 전체 프레임이 도착할 때까지 멈추지 않는다.</strong></p>

<p>하지만 충돌이 일어난 상태로의 전송은 결국 성능 저하를 초래하므로 <strong>802.11은 대신 다양한 충돌 회피 기술을 사용</strong>한다.</p>

<p>이전에 먼저 <strong>비트 에러와 패킷 손실 비율이 높은 무선 환경에서의 특징을 극복하기위한 802.11의 연결 계층 acknowledgment</strong>에 대해서 알아보자. (Figure 7.10)</p>

<ul>
  <li>
    <p>목적지 스테이션에서 프레임을 받고 CRC 검사를 통과하면 SIFS(프레임 간 단시간,Short Inter-frame Spacing)라는 잠시 동안의 대기시간을 거친 뒤, ACK 프레임을 돌려준다.</p>
  </li>
  <li>
    <p>만약 송신자 스테이션에서 ACK를 timeout 될 때까지 받지 못한다면, 에러로 판단하고 CSMA/CA 프로토콜 과정을 거친 뒤 프레임을 재전송한다.</p>
  </li>
  <li>
    <p>만약 일정한 시도 횟수의 재전송에도 ACK를 받지 못한다면 전송 스테이션은 포기하고 해당 프레임을 버린다.</p>
  </li>
</ul>

<p>이제 Figure 7.10의 <strong>802.11의 CSMA/CA 프로토콜</strong>에 대해 알아볼 차례이다.</p>

<p>Station(무선 장치 또는 AP를 포함한 전송 가능한 장치를 의미)이 보낼 프레임이 있다고 가정하자.</p>

<ol>
  <li>
    <p>station이 채널의 대기상태를 감지하면 DIFS(분산 프레임 간 시간, Distributed Inter-frame Space)라는 짧은 대기시간을 가지고 전송한다.</p>
  </li>
  <li>
    <p>만약 채널 상태 바쁘다면, 스테이션은 이진 지수적 무작위 백오프 시간(binary exponential random backoff)을 이용한 카운터를 설정하고, 대기상태가 감지되면 DIFS 시간 만큼 기다린 뒤 부터 카운트를 세기 시작한다. 여전히 채널 상태가 바쁘다면 카운터는 줄어들지 않는다.</p>
  </li>
  <li>
    <p>채널이 대기상태여서 카운터가 0이 된다면, station은 전체 프레임을 전송하고 ACK 프레임을 기다린다.</p>
  </li>
  <li>
    <p>만약 ACK를 받았다면, 정상 도착한 것으로 알게 되고, 다음 보낼 프레임을 준비한 뒤 위의 2번째부터 CSMA/CA 절차를 밟는다.(백오프 시간은 초기화 된다.)</p>

    <p>만약 ACK를 받지 못했다면 위의 2번째 부터 CSMA/CA 절차를 밟되 백오프 시간이 초기화 되지 않고, 더욱 커진다.</p>
  </li>
</ol>

<p><strong>이터넷의 CSMA/CD에서는 채널의 대기상태가 확인되면 즉시 전송했던 것과 달리 CSMA/CA는 DIFS + 백오프 카운터 시간을 기다린다.</strong></p>

<p><strong>이 차이의 원인은 802.11은 충돌 감지를 하지 않는다는 점에 있다.</strong></p>

<p>예시로 A와 B 두 스테이션이 전송을 기다리고 있고 채널 상태는 누군가가 사용중이라고 하자.</p>

<p>CSMA/CD에서는 채널이 비자마자 A와 B 둘다 전송을 시작할 것이고, 충돌이 일어날 것이다.</p>

<p>이터넷의 경우 둘다 서로 충돌을 감지하고 곧바로 전송을 취소하고 무작위 백오프 시간을 가진 뒤 재전송할 것이므로 크게 문제가 안된다.</p>

<p>하지만 802.11에는 충돌 감지가 없으므로 A와 B 둘다 프레임 하나가 전송이 끝날 때 까지 기나긴 충돌을 겪어야하며, 이는 크나큰 성능상의 낭비가 된다.</p>

<p>그러므로, 802.11의 CSMA/CA는 곧 바로가 아닌 한번의 무작위 백오프 시간을 가진 뒤, 무작위로 먼저 전송을 시작한 쪽의 채널 전송을 다른 한쪽이 알게 하여 카운터를 멈추게 하고, 전송이 끝날때 까지 기다리게 한다. 덕분에 충돌을 최대한 방지할 수 있다.</p>

<p>단, 두 가지 상황에서는 여전히 충돌이 발생할 수 있다.</p>

<ul>
  <li><strong>두 전송자가 숨겨진 터미널 효과나 감쇠(fading)효과로 인해 전송되고 있는 상태를 감지하지 못할 때</strong></li>
  <li><strong>우연히 두 전송자의 무작위 백오프 시간이 거의 유사하게 잡혀서, 전송을 거의 동시에 시작할 때</strong>
    <ul>
      <li>“일치”가 아니라 “동시에”인 이유는 미세한 차이라면, 상대방의 전송을 감지하기 전에 전송을 시작해버릴 수 있기 때문이다.</li>
    </ul>
  </li>
</ul>

<h5 id="숨겨진-터미널-다루기-RTS와-CTS-Dealing-with-Hidden-Terminals-RTS-and-CTS">숨겨진 터미널 다루기 : RTS와 CTS(Dealing with Hidden Terminals: RTS and CTS)</h5>

<p>802.11의 MAC 프로토콜은 숨겨진 터미널 문제를 어느 정도 해소해주는 방법 또한 존재한다.</p>

<p>Figure 7.11의 그림과 같은 상황이라면, H1과 H2는 서로의 커버리지에 존재하지 않아 존재를 모르는 상태에서 충돌이 일어나는 전송을 하겠지만, 이를 <strong>RTS(송신을 위한 요청, Reqeust to Send) 제어 프레임과 CTS(송신 가능, Clear to send) 제어 프레이미을 이용해 채널의 접근을 예약</strong>하여 피할 수 있다.</p>

<p>먼저 보내고 싶은 데이터가 있는 스테이션에서 AP 측에 데이터를 보내기 위해 필요한 시간을 적어 놓은 RTS 프레임을 브로드캐스트한다.</p>

<p>이후, AP에서 RTS 프레임을 받으면, CTS 프레임을 브로드캐스트로 송출한다.</p>

<p>이를 통해 RTS 프레임을 보낸 스테이션에는 채널 사용 허락을, 보내지 않은 다른 스테이션에게는 일정 시간 동안 사용 금지를 알릴 수 있다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211119230548558.png" alt=""></p>

<p>Figure 7.12는 이 과정을 나타낸 그림이다.</p>

<p>RTS와 CTS 프레임을 이용하면 두가지 중요한 이유로 성능이 좋아진다.</p>

<ul>
  <li><strong>예약된 시간에만 전송되므로 숨겨진 터미널 문제가 경감된다.</strong></li>
  <li><strong>RTS와 CTS 용량이 적어 전송시간이 적으므로, 충돌이 나도 큰 충격이 없으며, RTS와 CTS가 도착한 뒤에는 데이터와 ACK로 답신해줘야 한다.</strong></li>
</ul>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211119230733121.png" alt=""></p>

<p><strong>단, RTS/CTS는 지연시간과 채널 자원의 소모가 있으므로, 데이터 크기 기준(threshold)이 정해져 있어 데이터 프레임이 기준이상으로 클때만 사용되며, 보통의 경우 프레임의 최대 크기 제한보다 기준이 커서 RTS/CTS가 사용되지 않는 경우도 많다.</strong></p>

<h5 id="802-11를-사용한-지점간-연결-Using-802-11-as-a-Point-to-Point-Link">802.11를 사용한 지점간 연결(Using 802.11 as a Point-to-Point Link)</h5>

<p>각 노드가 지향성 안테나를 가지고 서로를 가리키면 802.11 프로토콜을 통해 지점간 연결이 가능하다.</p>

<p>신호 세기에 따라 수십 키로미터의 통신이 가능하며, 여러 홉 무선 네트워크를 이용해 광범위한 지점간 연결 또한 가능하다.</p>

<h4 id="7-3-3-IEEE-802-11-프레임-The-IEEE-802-11-Frame">7.3.3 IEEE 802.11 프레임 (The IEEE 802.11 Frame)</h4>

<p>figure 7.13은 802.11 프레임의 예시이며, 이터넷과 유사한 점도 있지만, 특별한 점도 있다.</p>

<p>위의 프레임의 구조의 경우 숫자의 단위가 바이트이며, 아래의 frame control 필드의 서브 필드의 숫자의 단위는 비트이다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211119231040680.png" alt=""></p>

<h5 id="페이로드와-CRC-필드-Payload-and-CRC-Fields">페이로드와 CRC 필드(Payload and CRC Fields)</h5>

<p>페이로드는 주로 IP 데이터그램이나 ARP 패킷이 담기며, 2312 바이트까지 가능하지만 대체로 1500바이트 이하이다.</p>

<p>CRC의 경우, 32비트 CRC(순환 중복 검사, cyclic redundancy check)를 이용하며, 에러가 잦은 무선 환경에서는 더욱 중요하다.</p>

<h5 id="Address-필드-Address-Fields">Address 필드(Address Fields)</h5>

<p>802.11 프레임에서는 주소 필드가 4개나 존재하며 각각 6바이트의 MAC 주소가 들어가야 한다.</p>

<ul>
  <li><strong>Address 1</strong>: 전송받는 무선 장치의 MAC 주소, 호스트 장치가 전송 시에는 도착할 AP AMC 주소, AP가 전송시에는 도착할 호스트 MAC 주소</li>
  <li><strong>Address 2</strong>: 전송하는 무선 장치의 MAC 주소, AP가 전송할 시 AP MAC 주소, 호스트 장치가 전송 시 호스트 장치 MAC 주소, 일종의 출발지 MAC 주소</li>
  <li><strong>Address 3</strong>: AP와 무선 장치가 소속된 서브넷의 게이트웨이 라우터 인터페이스의 MAC 주소, 아래에 보충 설명이 있다.</li>
  <li><strong>Address 4</strong> : 에드 혹 네트워크 모드에서 AP 역할을 하는 장치가 다른 장치들에게 포워드하기 위한 MAC 주소</li>
</ul>

<p>주소 3번의 필요성을 알기 위해 figure 7.14의 시나리오를 생각해보자.</p>

<p>먼저 AP는 연결 계층 장비이므로, IP와 통신하거나 IP 주소를 이해하지 못한다.</p>

<p>또한 AP는 라우터 입장에서 보이지 않고, H1과 라우터는 직접 연결되있는 것 처럼 보인다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211119231208533.png" alt=""></p>

<ul>
  <li>
    <p>전송받은 데이터그램에서 H1의 주소를 읽은 라우터는 ARP를 통해 H1의 MAC 주소를 얻는다. 이후 R1은 데이터그램을 프레임으로 캡슐화하고, 출발지 MAC 주소로 라우터의 R1 인터페이스 MAC 주소를 적어서 H1의 MAC 주소로 브로드캐스트한다.</p>
  </li>
  <li>
    <p>AP에 프레임이 도착하면 AP는 802.3(이터넷) 프레임을 802.11 프레임으로 바꾸고,</p>

    <p>address 1을 H1의 MAC 주소, address 2 필드를 자신, AP의 MAC 주소를 넣고 address 3 필드에는 R1의 MAC 주소를 넣는다.</p>

    <p><strong>H1은 이제 address 3 필드를 통해 서브넷의 라우터 인터페이스 MAC 주소를 알 수 있게 된다.</strong></p>
  </li>
</ul>

<p>이제, H1이 R1으로 응답하려고 하는 경우</p>

<ul>
  <li>H1이 802.11 프레임을 생성하고 address 1을 AP의 MAC 주소, address 2를 H1의 MAC 주소, address 3을 R1의 MAC 주소를 넣는다.</li>
  <li>AP가 H1으로 부터 802.11 프레임을 받으면, 이를 이터넷 프레임으로 바꾼다. 출발지 주소는 H1의 MAC 주소, 도착지 주소는 R1의 MAC 주소이며, <strong>이때 address 3에서 R1의 MAC 주소를 가져온다.</strong></li>
</ul>

<p>이렇게  address 3은 라우터 인터페이스의 MAC 주소를 알려주는 역할을 한다.</p>

<h5 id="Sequence-Number-Duration-그리고-Frame-Control-필드-field">Sequence Number, Duration, 그리고 Frame Control 필드(field)</h5>

<p>Sequence Number 필드는 전달 계층의 그것과 같으며, 스테이션이 진행한 acknowledgment에 사용한다. 새로 보낸 프레임과 이전에 보냈으나 재전송한 프레임을 구별하는 역할을 해준다.</p>

<p>Duration 필드는 앞서 설명했던 RTS와 CTS 프레임이 데이터나 ack 프레임을 보내기 위해 채널 자원을 예약할 때 사용한다.</p>

<p>Frame Control 필드는 여러가지 비트 단위의 서브 필드로 이루어져 있는데, 자세한 내용 들은 [Held 2001; Crow 1997; IEEE 802.11 1999]에서 확인 가능하다.</p>

<ul>
  <li>type, subtype 필드는 연관(association, 어느 AP의 서브넷에 참여 중인가?), RTS, CTS, ACK와 데이터 등의 프레임 종류를 구별하는데 사용한다.</li>
  <li>to, from은 address 필드들을 정의하는데 사용하는데, 에드 혹 네트워크와 기반시설 네트워크 모드일 때 마다 의미가 다르다. 기반 시설 모드일 경우, 해당 프레임을 보낸(from), 받는(to) 스테이션이 AP냐, 무선 장치이냐를 결정한다.</li>
  <li>WEP 필드는 암호화(encrpytion)이 사용중이냐 아니냐를 표시한다. 8장 참조</li>
</ul>

<h4 id="7-3-4-같은-IP-서브넷에서의-이동성-Mobility-in-the-Same-IP-Subnet">7.3.4 같은 IP 서브넷에서의 이동성(Mobility in the Same IP Subnet)</h4>

<p>무선 LAN의 물리적 범위를 증가시키기 위해 같은 IP 서브넷에 같은 SSID를 가진 BSS를 여럿 두기도 한다.</p>

<ul>
  <li>SSID가 같으면 자동으로 다시 연결해주는 듯?</li>
</ul>

<p>이는 사용자가 이동하면서 소속 BSS가 변함을 의미하며, TCP 연결 유지 등의 해결 방안을 생각해봐야 한다.</p>

<p>그래도 BSS가 같은 서브넷 소속이면 쉽지만, 다른 서브넷 소속이면 복잡한 이동성 관리 프로토콜(mobility management protocol)이 필요하다.</p>

<p>Figure 7.15 처럼 같은 서브넷 BSS 간의 이동을 알아보자면,</p>

<p>스위치로 연결된 두 BSS는 같은 IP 서브넷을 공유하므로, IP가 유지된 채로 소속이 바뀌면서 이로 인해 TCP 연결 등이 종료되지 않는다.</p>

<p>이때, AP2는 새로 들어온 호스트 H1의 MAC 주소를 발신지 주소로 한 브로드캐스트 프레임을 뿌려 스위치의 자가학습(self-learning) 기능으로 포워딩 테이블을 갱신하게 한다.</p>

<p>LAN subnet 뿐만 아니라 VLAN이 다른 경우에도 위와 같은 방법으로 해결할 수 있다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211119231658116.png" alt=""></p>

<p>하지만 만약 두 BSS가 라우터로 연결되어 다른 IP 서브넷을 가지게 되면 호스트 H1은 이동 후에 새로운 IP를 할당받아야 하고, TCP 연결을 종료해야 하며, 세상 입장에서는 갑자기 해당 주소의 호스트가 사라지는 것 처럼 보일 것이다.</p>

<p>이를 해결하기 위해 네트워크 계층 이동성 프로토콜인 모바일 IP를 이용할 수 있으며, 자세한 내용은 7.6절에서 설명할 것이다.</p>

<h5 id="GPS와-WIFI-위치-지정-LOCATION-DISCOVERY-GPS-AND-WIFI-POSITIONING">GPS와 WIFI 위치 지정 (LOCATION DISCOVERY: GPS AND WIFI POSITIONING)</h5>

<p>스마트폰을 이용해 위치를 측정하는 방법으로 <strong>GPS(Global positioning system)와 WiFi Positioning System(WPS)</strong>가 있다.</p>

<p>GPS는 30개 이상의 위성들이 자신들의 위치와 시간 정보를 라디오 신호로 전달하며, 이 신호들 중 각기 다른 인공위성 4개 이상의 정보를 GPS 장치가 확보하면 삼각 측량(triangulation equations)을 통해 자신의 위치를 알 수 있는 원리이다.</p>

<p>미국에서 개발, 누구나 사용할 수 있게 관리하고 있으며, 언제나 지상의 정말힌 시계와 끊임없이 동기화하고 있다.</p>

<p>하지만 GPS 신호가 거대한 건물에 막히거나 강력한 신호로 교란되면 사용하기 힘들다.</p>

<p>이떄 WPS를 사용하면 되는데, 구글, 애플, 마이크로 소프트 같은 거대 기업이 수 많은 WiFi AP의 위치와 SSID를 데이터베이스에 저장하여, 사용자가 자신의 주변 WiFi들의 SSID와 신호 강도, 가능하다면 GPS 정보를 보내 클라우드 상의 데이터베이스에서 가져온 주변 WiFi 위치를 통해 삼각 측량(triangulation equations)으로 자신의 위치를 알 수 있다.</p>

<p>그렇다면 처음에 WiFi 위치 정보는 어떻게 알고 있었을까? 바로 사용자들이 보낸 정보를 토대로, 이미 알고 있는 WiFi 위치 정보와 사용자가 보낸 GPS 정보를 이용해 사용자가 보내온 새로 생긴 WiFi의 위치를 삼각 측량(triangulation equations)으로 예측하며, 이 예측을 수천명의 정보로 확실하게 만들어 추가한다.</p>

<h4 id="7-3-5-802-11의-진보된-특성-Advanced-Features-in-802-11">7.3.5 802.11의 진보된 특성 (Advanced Features in 802.11)</h4>

<p>802.11의 공식적인 기능은 아니지만 802.11 네트워크를 이용해 할 수 있는 뛰어난 기능에 대해 설명한다.</p>

<p>주로 장치 판매 회사들이 경쟁성을 위해 구현한다.</p>

<h5 id="802-11-전송율-적응-802-11-Rate-Adaptation">802.11 전송율 적응 (802.11 Rate Adaptation)</h5>

<p><strong>현재나 지난 채널의 성향에 따라 적응적으로 물리 계층 조정 방법을 바꾸는 처리율 적응 능력을 구현</strong>할 수 있다.</p>

<p><strong>전송율이 높은 조정 방법일 수록 비트 에러율이 높고 반대로 전송율이 낮을 수록 비트 에러율이 낮아지는 특성을 이용해 비트 에러율이 높은 시기에는 전송율이 낮은 조정방법을, 반대로 비트 에러율이 낮다면 전송율을 높여줄 수 있다.</strong></p>

<p>이때 에러율을 탐지하는 방법으로 ACK 메시지의 응답 성공율을 이용하는 경우가 많으며, 연속으로 ACK가 성공했을 때는 전송율을 높이다가, ACK가 실패하는 순간 전송율을 떨어뜨리는 방식을 이용할 수 있으며, 이는 마치 TCP 혼잡 제어 때와 비슷하다.</p>

<h5 id="전력-관리-Power-Management">전력 관리 (Power Management)</h5>

<p><strong>전력은 모바일 장치에서 귀중한 자원이므로 802.11 기준에서 전력 관리 역량 기능으로 802.11 노드에게 전송, 수신, 감지, 등을 담당하는 회로망을 전원이 켜져 있는 시간을 최대한 줄일 수 있게 한다.</strong></p>

<p>노드에는 수면 (sleep) 상태와 각성(wake) 상태로 나누고, 노드는 AP(Access Point)에게 장치가 곧 수면 모드로 돌입할 것이라는 사실은 802.11 프레임의 power-management 비트를 1로 설정해 알려 줄 수 있다.</p>

<p>노드의 타이머는 AP가 비콘 프레임을 보내기 바로 전(보통 100msec 주기로 보낸다.)에 노드가 깨어날 수 있게 설정되고, AP는 해당 노드가 자고 있다는 것을 알고 있으므로, 해당 노드가 자고 있는 중에 해당 노드로 가야 되는 프레임들은 AP에 버퍼되고, 해당 노드가 깨어 났을 때 보내준다.</p>

<p>노드는 AP가 비컨 프레임을 보내기 바로 전에 일어나 활성 상태가 되며, 비컨 프레임에는 프레임이 버퍼된 노드들의 리스트가 들어있어서, 해당 노드에 자신이 존재하면 해당 프레임을 받아서 처리하고, 그렇지 않으면 다시 수면상태로 돌아가고 다음 비컴 프레임을 기다린다.</p>

<p><strong>비콘 프레임의 주기는 100msec, 노드가 각성 상태가 된 후, 비컨 프레임을 확인하는 시간은 250 마이크로초 내외이므로 99% 시간 동안은 노드가 자고 있을 수 있으므로, 전력 소모를 크게 줄일 수 있다.</strong></p>

<h4 id="7-3-6-개인-지역-네트워크-블루투스-Personal-Area-Networks-Bluetooth">7.3.6 개인 지역 네트워크: 블루투스 (Personal Area Networks: Bluetooth)</h4>

<p><strong>블루투스는 유선 대체 기술로 점점 중요해지고 있으며, 특유의 좁은 범위와 낮은 전력 소모, 비용으로 WPAN(무선 개인 지역 네트워크, wireless personal area network) 또는 피코넷(piconet)이라고 불리운다.</strong></p>

<p><strong>블루투스 네트워크는 작고 간단하도록 설계되었으며, TDM, FDM, 무작위 백오프, 폴링, 에러 감지 및 수정, ACKs와 NAKs 같은 수많은 연결 계층 네트워크 기술이 많이 사용</strong>된다.</p>

<p>블루투스는 비허가 사용이 가능하며 ISM(산업적, 과학적, 의학적 라디오 대역, Industrial, Scientific and Medical)이라고 불리우는 2.4 GHz를 사용하므로 높은 노이즈와 방해를 염두에 두고 디자인 됬다.</p>

<p>무선 채널을 TDM으로 나누며, 각 시간 슬롯은 625 마이크로초이며, 매 슬롯 마다 79 개의 채널 중 무작위를 모방한 방법으로(pseudo-random) 끊임 없이 채널을 바꾸면서 전송하게 된다.</p>

<ul>
  <li>이 방법을 FHSS(주파수 도약 확산 스펙트럼, frequency-hopping spread spectrum) 이라고 하며, 이를 통해 ISM 대역 내 다른 기기의 신호 간섭이 일부 슬롯에만 일어나게끔 할 수 있으며, 블루투스 경우 최대 3 MBps까지 가능하다.</li>
</ul>

<p>블루투스 네트워크는 에드 혹 네트워크 이므로 AP 같은 기반 시설이 없고, 대신 figure 7.16처럼 각 장치가 최대 8개의 장치가 스스로 네트워크를 이루며, 장치 중 하나가 마스터 노드(master node)역할을 하고 나머지는 클라이언트 노드 역할을 한다.</p>

<p>마스터 노드의 시계를 기준으로 피코넷의 TDM 슬롯 경계를 나누며, FHSS 절차, 피코넷의 장치들의 항목, 피코넷의 전송 강도(100mW, 2.5mW, 1mW)를 결정, 관리 하며, 마지막으로 폴링을 이용해 클라이언트에게 전송 권한을 부여한다.</p>

<p>8개의 활성 노드 이외에도 추가로 255개의 보류된(parked) 장치가 존재할 수 있으며, 장치들은 수면 상태에서 에너지를 아끼다가 마스터 노드의 비컨 메시지 계획에 따라 주기적으로 일어나서 통신할 수 있다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211119232148738.png" alt=""></p>

<p>블루투스는 에드 혹 네트워크 이므로 스스로 조직되어야 하며(self-organizing), 다음과 같은 방법으로 네트워크 구조가 생성 된다.</p>

<p>마스터 노드가 블루투스 네트워크를 생성하고 싶을 때, 먼저 범위 내의 다른 블루투스 장비를 탐색한다. 이를 이웃 탐사(neighbor discovery) 문제라고 한다.</p>

<p>마스터 노드는 조사(inquiry) 메시지 별로 다른 주파수 대역을 할당한 총 32 개의 조사 메시지를 128회 반복 브로드캐스트하여 이웃을 탐색하며,</p>

<p>이때, 클라이언트 장치는 선택한 주파수 대역에 조사메시지를 듣게 되면, 충돌을 막기위해 0~0.3초 정도의 무작위 백오프 시간을 가진 뒤, 장치 ID가 포함된 메시지를 마스터 노드에게 보낸다.</p>

<p>마스터 노드가 모든 클라이언트를 찾으면, 피코넷에 클라이언트들을 초대한 뒤, 블루투스 페이징(bluetooth paging)이라고 부르는 802.11에서 기기들을 기반 스테이이션에 연관(associatie)시키는 것과 비슷한 과정을 거쳐야한다.</p>

<p>블루 투스 페이징 시, 마스터는 클라이언트들에게 주파수 도약 패턴과 마스터의 시계 정보를 알려주기 위해 위의 조사메시지 처럼 32개의 구분되는 페이징 초대 메시지를 총 32개의 대역폭에 보낸다.</p>

<ul>
  <li>클라이언트들과 직접 통신하지 않는 이유는 아직 클라이언트들이 주파수 도약 패턴을 모르기 때문</li>
</ul>

<p>각 클라이언트들이 ACK 메시지로 페이징 초대 메시지에 답신하면, 마스터노드는 이제 주파수 도약 정보와 시계 동기화 정보, 활성화된 멤버들의 주소를 클라이언트에게 다시 보내고, 클라이언트를 주파수 도약 패턴에 따라 폴링(polling)하여 클라이언트가 네트워크에 참여했는지 확인한다.</p>

<p>블루투스 무선 네트워크는 이외에도 데이터 신뢰성 전송, 서킷 스위칭 비슷한 비디오, 오디오 스트리밍, 전송 강도 세기 조절, 활성화/대기 상태 노드 전환, 저전력 모드 및 보안 등의 중요한 기능등이 있으며 이는  [Bisdikian 2001, Colbach 2017, and Bluetooth 2020]에서 확인하자.</p>

<h3 id="7-4-무선-네트워크-4G와-5G-Cellular-Networks-4G-and-5G">7.4 무선 네트워크 : 4G와 5G (Cellular Networks: 4G and 5G)</h3>

<p>WiFi는 아쉽게도 짧은 커버리지 범위를 가지고 있으며, 지나치는 모든 AP에 참여할 수 있지도 않으므로, WiFi로는 사용자의 이동에 따라 완전한 서비스를 제공하기 힘들다.</p>

<p>반대로 4G 무선전화(cellular) 네트워크는 빠르게 성장하고 있고, 20Mbps 수준의 빠른 속도로 90%가 넘는 4G 신호 탐색율을 자랑하여, 비디오 스트리밍과 회의 등을 자동차, 버스 같은 곳에서 사용할 수 있게 되었다. 최근에는 IOT 장비나 모바일 결제, 인터넷 베이스 메시지 등에도 사용된다.</p>

<p>무선전화(cellular) 네트워크의 cellular(무선전화의, 또는 직물의)의 의미는 <strong>각 지역이 셀(cell)이라고 불리우는 여러 개로 서로 다른 지정학적 커버리지 지역으로 나뉘어 무선전화(cellular) 네트워크에 참여</strong>하기 때문에 붙여진 이름이다.</p>

<p>각 셀에는 데이터를 송수신하는 기지국(base station)과 기지국을 이용해 셀을 이동하면서 송수신하는 모바일 장비(mobile device)로 구성된다.</p>

<p>셀의 크기는 기지국의 전송 강도, 모바일 장비의 전송 강도, 빌딩, 산 등의 장애물, 기지국 안테나의 높이와 종류에 따라 달라진다.</p>

<p>우리는 이곳에서 모바일 장치와 기지국의 무선 첫 홉 연결과 무선전화 제공자 네트워크와 연결된 all-IP 중심 네트워크을 통한 인터넷 연결에 대해서 배울 것이며, 전화 연결선에서 기원했음에도 놀랍게도 인터넷과 유사하면서, 앞서 배웠었던 프로토콜 계층, 엣지/중심 구분, 컨트롤 측면과 데이터 측면 나눔과 같은 개념을 사용하는 4G 네트워크의 구조적 원칙에 대해서 배워볼 것이다. 그 이후 4G 이동성 관리나 4G 네트워크에서의 인터넷 프로토콜(IP)에 대해 배울 것이다.</p>

<p>간단하게 설명할 것이며 더욱 알고 싶다면 [Goodman 1997; Kaaranen 2001; Lin 2001; Korhonen 2003;Schiller 2003; Palat 2009; Scourias 2012; Turner 2012; Akyildiz 2010, Mouly 1992; Sauter 2014 ]를 참조.</p>

<p>RFC처럼 4G와 5G 네트워크는 [3GPP 2020]에 기술적 상세 정의가 되어있다.</p>

<h4 id="7-4-1-4G-LTE-무선-네트워크-구조와-요소들-4G-LTE-Cellular-Networks-Architecture-and-Elements">7.4.1 4G LTE 무선 네트워크: 구조와 요소들 (4G LTE Cellular Networks: Architecture and Elements)</h4>

<p><strong>4G Long-Term Evolution standard(4G 장기 진화 표준), 줄여서 4G LTE 네트워크는 크게 무선전화 네트워크 가장자리의 라디오 접근 네트워크(radio access network)와 코어 네트워크(또는 EPC(all-IP Enhanced Packet Core))로 나뉘며, 네트워크의 각 요소들은 IP를 통해 통신</strong>한다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211119232355578.png" alt=""></p>

<p>먼저 4G LTE의 모호한 용어와 약어에 의한 혼란을 막기 위해 각 요소들의 기능과 데이터 측면, 컨트롤 측면의 상호작용을 알아보자.</p>

<ul>
  <li>
    <p><strong>모바일 장치(mobile device)</strong></p>

    <p>무선장치 네트워크에 연결된 응용 프로그램(웹 브라우저, 전자결제 앱, 메신저 등)이 돌아가는 장치(스마트폰, 태블릿, 노트북, IOT 장치 등)를 의미하며, 4G LTE에서는 UE(유저 장비, User Equiment)라고 한다.</p>

    <p>모바일 장치는 보통 5개의 TCP/IP 5계층을 전부 구현하며, 네트워크의 말단에 위치하며, NAT가 제공한 IP 주소로 이야기한다.</p>

    <p>모바일 장치는 SIM(Subscriber Identity Module) 카드에 64비트 식별자인 IMSI(국제 모바일 구독자 식별,International Mobile Subscriber Identity)를 가지고 있어, 전세계 무선전화 네트워크 상에 유일하게 식별 될 수 있다.</p>

    <p>SIM 카드에는 이외에도 서비스에 대한 정보와 접근 및 암호화 키 정보를 포함하고 있다.</p>
  </li>
  <li>
    <p><strong>기지국(Base station)</strong></p>

    <p>기지국은 네트워크 말단에 위치하여 범위 내(figure 7.17의 육각형 모양)의 무선 라디오 자원과 모바일 장치를 관리한다.</p>

    <p>모바일 장치는 기지국과 통신을 통해 네트워크에 연결될 수 있는데, 기지국은 라디오 접근 네트워크에서 장치들의 인증과 채널 접근 같은 네트워크 자원 할당을 맡는다.</p>

    <p>AP와 비슷하지만, 몇몇 추가적인 역할을 맡는데, 게이트웨이와 모바일 장치를 잇는 장치별 IP 터널을 만든다.</p>

    <p>추가로 다른 기지국과 상호작용하여 셀 내부에서 장치의 이동과 셀 간 라디오 주파수의 간섭을 최소화하기 위해 관리한다.</p>

    <p>4G LTE에서는 eNode-B라고 부른다.</p>
  </li>
  <li>
    <p><strong>HSS(홈 구독자 서버, Home Subscriber Server)</strong></p>

    <p>컨트롤 측면의 요소로, HSS가 소속하는 네트워크에 소속된 모바일 장치에 대한 정보를 담고 있는 데이터베이스이다. MME와 함께 장치의 인증에 사용된다.</p>
  </li>
  <li>
    <p><strong>S-GW(서빙 게이트웨이, serving gateway), P-GW(패킷 데이터 네트워크 게이트웨이,Packet Data Network Gateway, PDN gateway), 다른 네트워크 라우터들</strong></p>

    <p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211123130818225.png" alt=""></p>

    <p>Figure 7.18에서 보듯이, S-GW와 P-GW는 인터넷과 모바일 장치 경로상에 위치한 라우터로, P-GW는 외부 인터넷을 위해 모바일 장치의 이동성을 관리한다.</p>

    <p>PDN 게이트웨이(P-GW)는 NAT IP 주소를 모바일에게 부여하며 NAT 기능도 수행하며, 데이터그램이 인터넷에 들어가기 전 마지막 LTE요소이자 관문이다.</p>

    <p>추가적으로 통신사의 all-IP 중심 네트워크에는 평범한 라우터 역할을 하는 라우터들도 많다.</p>
  </li>
  <li>
    <p><strong>MME(이동성 관리 개체,Mobility Management Entity)</strong></p>

    <p>Figure 7.18에서 MME 또한 컨트롤 측면 요소로, HSS와 함께 연결을 원하는 장치의 인증하고 장치나 PDN 인터넷 게이트웨이와의 데이터 터널을 생성하며, 활성화된 모바딜 장치의 셀 위치를 유지한다. 하지만 figure 7.18의 사용자 데이터 측면에서 경로상에 위치하진 않는다.</p>

    <ul>
      <li>
        <p><strong>인증(Authentication)</strong></p>

        <p>모바일 장치 측에서는 적접한 네트워크인지, 네트워크 측에서는 등록된 IMSI를 가진 장치가 맡는지 확인하는 것이 중요하며, MME는 장치와 HSS 사이의 중간자 역할을 하며, 정확히는 모바일 장치의 요청을 받아, HSS와 접촉해 암호화된 정보를 받는다.</p>

        <p>이 암호화된 정보는 모바일 장치 측에서는 적접한 네트워크인지, 네트워크 측에서는 등록된 IMSI를 가진 장치가 맡는지 증명하기 위한 정보이다.</p>

        <p>위의 경우 MME와 HSS, 모바일 장치는 같은 네트워크에 속해 있을 때며, 만약 모바일 장치가 다른 회사 소속의 네트워크에 로밍 중이면, 모바일 장치의 원래 홈 네트워크의 HSS와 로밍 중인 MME가 통신하며 인증한다.</p>
      </li>
      <li>
        <p><strong>경로 설정(Path setup)</strong></p>

        <p>통신하는 데이터들은 모바일 장치와 기지국 간에 한 홉 연결 이후, S-GW와 P-GW로 이루어진 IP 터널을 지나게 된다.</p>

        <p>이 터널은 MME가 제어하며, 라우터간의 패킷 라우팅을 대체하여 포워딩하여 장치의 이동에 대응할 수 있게 해준다.</p>

        <ul>
          <li>장치의 이동이 감지되면 터널의 끝단만 바뀌며, 그 이외의 터널 지점이나 QOS(Quality of Service) 등의 기타 정보는 바뀌지 않게한다.</li>
        </ul>
      </li>
      <li>
        <p><strong>셀 위치 추적(Cell location tracking)</strong></p>

        <p>장치가 셀 간 이동을 할때, 기지국은 장치의 새로운 위치를 MME에 업데이트하지만, 만약 장치가 수면 모드인 상태에서 셀간 이동을 한다면, 기지국이 더이상 추적을 하지 못하므로, MME가 페이징(Paging)이라는 절차를 통해 장치를 깨우게 된다.</p>
      </li>
    </ul>
  </li>
</ul>

<p>아래 Table 7.2는 LTE 구조 요소들에 대한 간략한 설명과 WLAN 요소와의 비교이다.</p>

<table>
  <thead>
    <tr>
      <th>LTE 요소</th>
      <th>설명</th>
      <th>유사한 WLAN 기능(s)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>모바일 장치(mobile device) (UE: User equipment, 유저 장비)</td>
      <td>사용자의 IP 지원 무선/ 모바일 장치(스마트폰, 온도계, 노트북)</td>
      <td>호스트, 말단 시스템</td>
    </tr>
    <tr>
      <td>기지국(Base station)(eNode-B)</td>
      <td>LTE 네트워크 측의 무선 접근 링크</td>
      <td>Access point(AP)와 비슷,  기지국이 몇몇 기능을 더욱 제공함</td>
    </tr>
    <tr>
      <td>MME(이동성 관리 개체,Mobility Management Entity)</td>
      <td>모바일 장치들의 인증, 이동성 관리</td>
      <td>Access point(AP)와 비슷,  MME가 몇몇 기능을 더욱 제공함</td>
    </tr>
    <tr>
      <td>HSS(홈 구독자 서버, Home Subscriber Server)</td>
      <td>모바일 장치의 홈 네트워크에 소속되어, 해당 네트워크에서의 장치의 인증, 접근 우선순위 정보 등을 제공</td>
      <td>없음</td>
    </tr>
    <tr>
      <td>S-GW(서빙 게이트웨이, serving gateway), P-GW(패킷 데이터 네트워크 게이트웨이,Packet Data Network Gateway)</td>
      <td>외부 네트워크와의 패킷 포워딩을 담당하는 통신사의 네트워크의 라우터</td>
      <td>ISP 접근 네트워크에서의 iBGP와 eBGP 라우터</td>
    </tr>
    <tr>
      <td>라디오 접근 네트워크(Radio Access Network)</td>
      <td>모바일 장치와 기지국 간의 무선 연결</td>
      <td>모바일 장치와 AP 간의 802.11 무선 링크</td>
    </tr>
  </tbody>
</table>

<p>[Table 7.2 LTE 요소들과 유사한 WLAN(WiFi) 기능들(LTE Elements, and similar WLAN (WiFi) functions)]</p>

<h5 id="2G-3G-4G의-구조적-혁명-THE-ARCHITECTURAL-EVOLUTION-FROM-2G-TO-3G-TO-4G">2G, 3G, 4G의 구조적 혁명(THE ARCHITECTURAL EVOLUTION FROM 2G TO 3G TO 4G)</h5>

<p>2G의 듀얼 서킷 기반에서 4G의 패킷 기반까지 어떻게 구조를 변화시켰는지 알아보자.</p>

<p>figure 7.19의 2G 네트워크는 서킷 스위치 기반 모바일 전화 네트워크였지만, 데이터 대신 목소리를 옮기는 방식이였고, 구조 자체는 크게 다르지 않았다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211123131139124.png" alt=""></p>

<p>이후 Figure 7.20의 3G 무선전화 구조로 바뀌었을 땐 2G의 음성 데이터와 패킷 데이터를 둘다 활용하는 구조가 되었다.</p>

<p>중간 RNC에서 두 갈래로 갈라져 음성 처리와 패킷 처리로 나뉜다.</p>

<p>이렇게 기존의 시설을 활용하면서, 새로운 구조를 적용하였다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211123131606647.png" alt=""></p>

<h4 id="7-4-2-LTE-프로토콜-스택-LTE-Protocols-Stacks">7.4.2 LTE 프로토콜 스택(LTE Protocols Stacks)</h4>

<p>4G LTE 구조가 all-IP 구조가 되면서, 새로운 LTE 프로토콜 스택은 이전에 배웠던 TCP, UDP, IP 프로토콜 등 익숙한 개념을 많이 찾아 볼 수 있다.</p>

<p>Figure 7.21은 LTE 모바일 노드의 유저 측면 프로토콜 스택과 서빙 게이트웨이, 기지국 등을 보여준다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211123131903243.png" alt=""></p>

<p>LTE는 모바일 장치 연결 계층을 3개의 부계층으로 나누는데,</p>

<ul>
  <li>
    <p><strong>패킷 데이터 전환(Packet Data Convergence)</strong></p>

    <p>연결 계층 내에서 가장 상위 부계층으로 IP 바로 아래에 존재하며, PDCP(패킷 데이터 전환 프로토콜, Packet Data Convergence Protocol)은 무선 통신에 보낼 비트양을 줄이기 위해 IP 헤더 압축 실시하며,  MME와 장치간의 첫 메시지 교환때 확보한 키를 이용한 IP 데이터그램의 암호화/복호화 또한 이뤄진다.</p>
  </li>
  <li>
    <p><strong>라디오 링크 컨트롤(RLC)(Radio Link Control)</strong></p>

    <p>RLC 프로토콜은 크게 두가지 중요한 역할을 수행한다.</p>

    <ul>
      <li>연결계층 프레임에 들어가기 너무 큰 IP 데이터그램의 분화와 조립</li>
      <li>ACK/NAK 기반 ARQ 프로토콜(섹션 3.4.1)을 이용한 연결 계층 데이터 신뢰성 전송</li>
    </ul>
  </li>
  <li>
    <p><strong>매체 접근 제어(MAC)(Medium Access Control)</strong></p>

    <p>MAC 계층은 전송 스케듈링, 즉 라디오 전송 슬롯의 요청과 사용 허가를 관리하며, 중복 비트 전송을 이용한 추가적인 에러 감지 및 수정 또한 이루어진다.</p>
  </li>
</ul>

<p>Figure 7.21을 보면 MME가 관리하는 터널을 이용해 데이터를 통신하는 것을 알 수 있는데, <strong>모바일 장치가 네트워크에 연결되면, 두 끝점 사이의 터널들은 각각 유일한 터널 끝점 식별자(TEID, tunnel endpoint identifer)를 가진다.</strong></p>

<p><strong>모바일 장치가 기지국에 데이터그램을 보내면, 데이터그램은 GPRS Tunneling Protocol에 따라 TEID를 포함해 캡슐화되며, UDP 세그먼트에 추가로 캡슐화되어 서빙 게이트(Serving Gateway, S-GW)로 보내진다</strong>.</p>

<p>반대로 모바일 장치가 패키을 받을 때는 기지국에서 UDP 세그먼트에서 IP 데이터그램을 추출해 보내준다.</p>

<h4 id="7-4-3-LTE-라디오-접근-네트워크-LTE-Radio-Access-Network">7.4.3 LTE 라디오 접근 네트워크 (LTE Radio Access Network)</h4>

<p><strong>LTE는 다운스트림 채널에 대해 주파수 나눔과 시간 나눔을 둘다 이용하는 OFDM(직교 주파수 나눔 멀티플렉싱, orthogonal frequency division multiplexing)을 이용</strong>한다. 신호를 서로 다른 주파수 대역에 아주 촘촘하게 배치하여 서로 간선을 최소화하여 붙여진 이름이다.</p>

<p><strong>LTE에서는 각 활성된 모바일 장치에게 1개 이상의 채널 주파수 내의 1개 이상의 0.5 ms 시간 슬롯들을 제공</strong>한다. 예를들어 Figure 7.22에는 8개의 시간 슬롯을 4개의 주파수에 나누어 할당한 모습을 볼 수 있다.</p>

<p>많이 할당 받을 수록 더 빠른 전송 시간을 자랑하며, 슬롯의 할당은 매 ms마다 이루어진다.</p>

<p>또한, 조정(modulation) 방법이 바뀜에 따라 전송율이 달라질 수도 있다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211126073957551.png" alt=""></p>

<p><strong>모바일 장치들에게 타임 슬롯을 할당하는 방법은 공식화되지 않았고, 네트워크 관리자나 장비 판매사의 알고리즘에 의해 결정</strong>된다.</p>

<p>송수신자 사이의 채널 상태에 맞게 물리 계층 프로토콜을 고르고, 수신자에게 채널 상태에 따라 보낼 패킷을 고르게 하면, 기지국이 최대한 무선 매체를 이용할 수 있다.</p>

<p>추가로 사용자 우선순위나 서비스 등급에 따라 다운스트림 전송 스케듈에 차등을 줄 수 있다.</p>

<p>LTE-Advanced 에서는 채널을 모바일 장치에 할당하여 수백 Mbps의 다운스트림 대역폭을 할당할 수 있다.</p>

<h4 id="7-4-4-추가적인-LTE-기능들-네트워크-결합과-전력-관리-Additional-LTE-Functions-Network-Attachment-and-Power-Management">7.4.4 추가적인 LTE 기능들 : 네트워크 결합과 전력 관리(Additional LTE Functions: Network Attachment and Power Management)</h4>

<p><strong>네트워크 결합 기능은 해당 모바일 장치가 처음으로 네트워크에 참여할 때의 절차이고,</strong></p>

<p><strong>전력 관리 기능은 모바일 장치가 중심 네트워크 요소와 함께 전력 사용을 관리하는 것이다.</strong></p>

<h5 id="네트워크-결합-Network-Attachment">네트워크 결합 (Network Attachment)</h5>

<p>모바일 장치가 통신사의 네트워크에 참여할 때의 절차는 3 단계로 나뉜다.</p>

<ul>
  <li>
    <p><strong>기지국에 결합(Attachment to a Base Station)</strong></p>

    <p>LTE에서의 네트워크 참여 첫 단계는 섹션 7.3.1에서 배웠던 무선 LAN에서의 방법과 목적은 비슷하지만 방법은 다르다.</p>

    <p>첫번째는 모바일 장치가 주변의 기지국을 알아보고, 참여하는 과정이다.</p>

    <ul>
      <li>
        <p>모바일 장치가 기지국이 발하는 주기적인(5ms) 최초 신호를 잡기 위해 모든 채널의 모든 대역폭을 찾아본다.</p>
      </li>
      <li>
        <p>최초 신호가 잡히면 이 주파수를 유지하면서 두번째 동기화 신호를 찾는다.</p>
      </li>
      <li>
        <p>2번째 신호가 잡히면 장치는 채널 대역폭, 설정, 기지국의 통신사 정보 등의 정보를 얻는게 가능하다.</p>
      </li>
      <li>
        <p>모바일 장치는 잡힌 여러 기지국 신호 중 하나를 골라(주로 홈 네트워크) 무선 홉을 이용해 컨트롤 측면 신호 연결을 수립한다.</p>
      </li>
      <li>
        <p>장치와 기지국간의 채널은 나머지 절차 동안 유지된다.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>상호 인증 (Mutual Authentication)</strong></p>

    <p>기지국이 MME(Mobility Management Entity)와 연락해 상호 인증을 실시한다.</p>

    <p>MME를 매개로 장치는 해당 네트워크가 적법한지, 네트워크는 해당 장치의 IMSI가 일치하고, 믿음직한지 확인하게 된다.</p>

    <p>상호 인증이 끝나면, MME와 모바일 장치는 상호 인증되었고, MME 또한 모바일 장치와 연결된 기지국의 정보를 알고 있게 된다.</p>

    <p>MME는 이 정보들을 가지고 장치-PDN 게이트웨이 데이터 경로를 설정한다.</p>
  </li>
  <li>
    <p><strong>모바일 장치-PDN 게이트웨이 간 데이터 경로 설정 (Mobile-device-to-PDN-gateway Data Path Configuration)</strong></p>

    <p>MME는 PDN 게이트웨이(NAT 서비스도 제공함), 서빙 게이트웨이, 기지국과 만나 figure 7.21과 같은 터널 두개를 만든다.</p>

    <p>이제 모바일 장치는 IP 데이터그램을 터널과 기지국을 통해 인터넷과 주고받을 수 있다.</p>
  </li>
</ul>

<h5 id="전력-관리-수면-모드-Power-Management-Sleep-Modes">전력 관리: 수면 모드(Power Management: Sleep Modes)</h5>

<p>4G LTE에는 블루투스와 802.11과 다르게 두 가지의 전력관리 모드가 존재한다.</p>

<p><strong>첫번째 비연속적 수신 상태는 활동을 하지 않은 순간부터 수백 밀리초 이후에 진입하며, 일종의 가벼운 수면 상태</strong>이다.</p>

<p>이때, 모바일 장치와 기지국은 주기적으로 모바일 장치가 깨어나 다운스트림 채널을 모니터링할 시간을 정하고, 모바일 장치의 라디오 송수신 장치는 비활성화 된다.</p>

<p><strong>두번째 대기 상태는 5~10초 정도 활동을 하지 않은 순간에 진입하며, 일종의 깊은 수면 상태</strong>이다.</p>

<p>이때, 모바일 장치는 비연속적 수신 상태때보다 더 드물게 일어나고 채널을 모니터링하며, 심지어 셀(cell) 간 이동이 일어나도 모바일 장치는 셀 이동을 알리지 않는다.</p>

<p>그러므로 드물게 깨어났을 때, 새로운 셀에 도착해 있다면, 기지국과 새로운 연결을 수립하고, MME가 이전 속했던 기지국에서 가져와 브로드캐스트한 페이징 메시지를 체크한다.</p>

<p>해당 페이징 메시지에는 셀에 소속하는 모든 장치에게 이전 소속 기지국이 브로드캐스트했던 메시지로, 해당 모바일 장치를 대상으로 도착한 패킷이 있으니, 활성 상태로 돌아와 기지국과 연결을 재수립해야하는 모바일 장치들에 대한 정보가 있다.</p>

<p>모바일 장치에 자신이 있다면, 수면 상태 동안 들어온 패킷이 있다는 의미이니 이전 기지국과 연결을 재수립하고 패킷을 가져온다.</p>

<h4 id="7-4-5-범지구적-무선전화-네트워크-네트워크들의-네트워크-The-Global-Cellular-Network-A-Network-of-Networks">7.4.5 범지구적 무선전화 네트워크: 네트워크들의 네트워크 (The Global Cellular Network: A Network of Networks)</h4>

<p>Figure 7.23은 사용자의 스마트폰이 4G 기지국을 통해 홈 네트워크(home network)에 연결되어 있는 구조이다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211126074337154.png" alt=""></p>

<p><strong>사용자의 홈 네트워크는 통신사측에서 지원하며, 다른 통신사나 인터넷에 하나 이상의 게이트웨이 라우터를 통해 연결</strong>되어 있다.</p>

<p>이런식으로 모바일 네트워크들은 인터넷이나 IPX(Internet Protocl Pacekt eXcahnge) 네트워크를 통해 서로 연결되어 있으며,</p>

<p>특히, IPX는 IXP(Internet eXchange Point)와 비슷하게 각기 다른 통신사, ISP의 모바일 네트워크 간의 연결을 위해  관리되고 있는 네트워크이다.</p>

<p><strong>범지구적 무선전화 네트워크는 인터넷처럼 이러한 네트워크들의 네트워크</strong>이며, 4G와 3G, 그 이전의 전화 네트워크와도 통신할 수 있다.</p>

<h4 id="7-4-6-5G-휴대전화-네트워크-5G-Cellular-Networks">7.4.6 5G 휴대전화 네트워크(5G Cellular Networks)</h4>

<p><strong>5G, 정확히는 3GPP에서 표준으로 택한 5G NR(New Radio)는 4G의 개선된 버전으로, 최대 비트 전송율 10배, 지연 시간 1/10배, 트래픽 허용량은 100배 정도로 추정되며, 더욱 광범위한 커버리지를 자랑</strong>한다.</p>

<p>5G가 상용되면, VR, AR, 무인 자동차 제어 등의 강력한 무선 전송이 필요한 기술의 발전과, 유선망으로 이루어졌던 주거지 접근 네트워크를 고정 무선 인터넷 서비스(fixed wireless internet service)로 바꿀 수 있을 것이다.</p>

<p><strong>5G 표준은 주파수를 FR1(450 MHz-6GHz)와 FR2(24 GHz-52 GHz) 둘</strong>로 나누었다.</p>

<p>FR2가 버라이즌의 5G TF 라는 다른 표준으로 스마트폰용이 아닌 고정 무선 인터넷 서비스 용으로 배포된 바가 있지만, 초기에는 FR1이 널리 배포될 것이다.</p>

<p>또한, <strong>5G는 이전의 4G 모바일 의사소통 체계와 호환되지 않으므로</strong>, 5G를 배포하려는 통신사는 막대한 시설 투자와 스프트웨어 업그레이드가 필요할 것이다.</p>

<p><strong>FR2 주파수는 밀리미터 파동 주파수(millimeter wave frequencies)로 알려져 있으며, 더욱 빠른 데이터 속도를 자랑</strong>하지만 두가지 단점이 있다.</p>

<ul>
  <li>
    <p><strong>더욱 좁은 범위를 가지고 있어 지정학적으로 광범위, 많은 양의 기지국 수립이 필요하다.</strong></p>
  </li>
  <li>
    <p><strong>대기 간섭에 취약함, 나뭇잎이나 비에 의해서도 문제가 생길 수 있음</strong></p>
  </li>
</ul>

<p>5G에는 추가로 3개의 표준이 존재한다.</p>

<ul>
  <li>
    <p><strong>eMBB (Enhanced Mobile Broadband, 향상된 모바일 광대역)</strong></p>

    <p>5G NR 배포의 초기 배포의 주역,</p>

    <p>4G LTE 기준으로 향상된 대역폭에 의한 데이터 송수신 속도 증가 및 지연속도 감소 등이 있었으며,</p>

    <p>이로인해 360도 비디오 스트리밍이나 AR, VR 등의 거대 미디어 응용 프로그램이 가능해 졌다.</p>
  </li>
  <li>
    <p><strong>URLLC (Ultra Reliable Low-Latency Communications, 초 신뢰성 저지연 의사소통)</strong></p>

    <p>URLLC은 낮은 지연속도가 아주 중요한 곳에 쓰인다. 주로 공장 자동화와 자율 주행 등에 사용되면 1msec 이하의 지연시간이 목표이다.</p>
  </li>
  <li>
    <p><strong>mMTC (Massive Machine Type Communications, 거대 머신 타입 의사소통)</strong></p>

    <p>감지, 측정, 모니터링을 위한 협대역(좁은 대역폭) 접근 유형의 표준으로, 낮은 지연시간과 저전력 소모, 낮은 연결 장벽이 목표로 주로 IOT 장비등에 사용된다.</p>
  </li>
</ul>

<h5 id="5G와-밀리미터-파동-주파수-5G-and-Millimeter-Wave-Frequencies">5G와 밀리미터 파동 주파수 (5G and Millimeter Wave Frequencies)</h5>

<p>많은 5G 혁신들은 밀리미터 파동 주파수에 의한 4G LTE 대비 100배의 용량 상승으로 인해 이루어질 것이다.</p>

<p>용량은 다음과 같이 계산한다.</p>

<p><strong>용량(bps/$km^2$) = 셀 밀도(cells/$km^2$) X 사용가능 스펙트럼(대역폭)(Hz)X 스펙트럼 효율(bps/Hz/Cell)</strong></p>

<p>셀 밀도는 일정 면적 당 셀의 갯수, 스펙트럼 효율(spectral efficiency)은 각 기지국이 얼마나 사용자와 효율적으로 통신하는 지이다.</p>

<p>용량이 크게 늘어나는 이유는 다음과 같다.</p>

<ul>
  <li>밀리미터 파동 주파수는 범위가 짧으므로 셀을 여러개 둘 수 밖 없으므로 셀 밀도가 늘어난다.</li>
  <li>5G FR2의 대역폭은 52-24=28GHz 이므로, 4G LTE의 2GHz에 비해 14배 넓다.</li>
  <li>스펙트럼 효율을 2배 올리려면 17배의 전력 증가가 필요하지만, 5G 기지국은 여러개의 MIMO 안테나를 이용해 사용자 방향에 빔 형식으로 주사(beam forming)하므로 같은 시간, 같은 대역폭에서 동시에 10~20명의 사용자에게 전송 가능하다.</li>
</ul>

<p>용량 구하는 식의 3개 요소가 전부 증가하므로 100배의 용량 증가를 이루어 낼 수 있다. 뿐만 아니라 대역폭이 더 넓어 최대 다운로드 속도가 1Gbps 이상이다.</p>

<p>하지만 밀리미터 파동 주파수는 빌딩이나 나무 등에 쉽게 막히므로 작은 크기의 셀을 여러개 두는 식(도심지 기준 10~100m 사이)으로 해결해야 한다.</p>

<h5 id="5G-중심-네트워크-5G-Core-Network">5G 중심 네트워크(5G Core Network)</h5>

<p><strong>5G 중심 네트워크(5G Core Network)는 모든 5G 모바일 음성, 데이터, 인터넷 연결을 관리하는 데이터 네트워크이다.</strong></p>

<p>더욱더 나은 인터넷, 클라우드, 분산 서버, 캐쉬와의 호환성과 지연시간 감소를 위해 설계되었으며, 네트워크 기능 가상화(NFV, SDN 부분 참조)와 각기 다른 서비스와 응용 프로그램을 위한 네트워크 나누기 등이 관리되고 있다.</p>

<p>4G의 요소들(MME, HSS, 셀, PDN 게이트웨이 등)을 많이 공유하고 있지만, 5G 중심 네트워크는 완전한 컨트롤 측면과 유저 측면의 분리가 이루어졌고, 순수하게 가상화 소프트웨어(virtualized software-based) 기반 네트워크 기능을 가지고 있어, 다양한 응용 프로그램의 요구에 유연성있게 대응할 수 있다.</p>

<ul>
  <li>
    <p><strong>유저 측면 기능(User-Plane Function) (UPF)</strong></p>

    <p>컨트롤 측면과 유저 측면의 분리는 패킷 처리를 분산적으로, 네트워크 말단(edge)에서 처리할수 있게 해준다.</p>
  </li>
  <li>
    <p><strong>접근 및 이동성 관리 기능(Access and Mobility Management Function) (AMF)</strong></p>

    <p>5G 중심은 MME를 두가지 요소, AMF와 SMF로 나누었다.</p>

    <p>AMF는 모든 연결과 세션 정보를 사용자 장비로 부터 받아 오직 연결과 이동성 관리 업무를 처리한다.</p>

    <p>SMF는 아래 참조</p>
  </li>
  <li>
    <p><strong>세션 관리 기능 (Session Management Function) (SMF)</strong></p>

    <p>SMF는 분리된 데이터 측면과 상호작용 하는 것과 세션을 관리한다. 또한 추가로 IP 주소 관리와 DHCP의 역할도 겸한다.</p>
  </li>
</ul>

<p>5G 표준은 여전히 개발 중이고, 앞으로 미래에 궁극의 광역 무선 서비스가 될 수 있을 것이다.</p>

<h3 id="7-5-이동성-관리-원칙-Mobility-Management-Principles">7.5 이동성 관리: 원칙(Mobility Management: Principles)</h3>

<p>모바일 장치은 넓은 의미로, 시간에 따라 자신이 속한 네트워크를 끊임없이 바꾸는 장치이다.</p>

<p>이동성은 분야마다 여러 의미로 쓰인다.</p>

<h4 id="7-5-1-장치-이동성-네트워크-계층-관점-Device-Mobility-a-Network-layer-Perspective">7.5.1 장치 이동성: 네트워크 계층 관점 (Device Mobility: a Network-layer Perspective)</h4>

<p>장치 이동성의 도전 정도는 장치가 얼마나 능동적으로 네트워크를 이동했느냐이다.</p>

<p>시나리오에 따라 이동성을 Figure 7.24 처럼 정리할 수 있다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211126074629222.png" alt=""></p>

<table>
  <thead>
    <tr>
      <th>a</th>
      <th>b</th>
      <th>c</th>
      <th>d</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>장치가 접근 네트워크 사이를 전원이 내려간 채로 이동</td>
      <td>장치가 같은 통신사의 같은 무선 접근 네트워크 사이를 이동</td>
      <td>장치가 같은 통신사의 같은 무선 접근 네트워크 사이를 연결을 유지한 채로 이동</td>
      <td>장치가 여러 다른 통신사의 네트워크를 연결을 유지한 채로 이동</td>
    </tr>
  </tbody>
</table>

<p>예를 들어 (a) 시나리오는 전원이 켜져있는 동안은 네트워크에 존재하며, 스스로 연결을 종료하고 새로운 연결을 시도하는데, 이는 기존의 네트워크 기능으로도 충분히 가능하므로 네트워크 계층 관점에서 모바일 장치가 아니라고도 볼 수 있다.</p>

<p>시나리오 (b)의 경우 장치가 물리적으로 이동하지만, 소속 네트워크가 바뀌거나 나간적 없으므로, 이 또한 네트워크 계층 관점에서 모바일 장치가 아니다.</p>

<p>만약 AP나 LTE 기지국 무선 범위 내에 나간적도 없다면, 연결 계층 관점으로 봐도 모바일 장치가 아니다.</p>

<p>시나리오 (c)의 경우, 소속 네트워크가 바뀌며, 심지어 TCP 연결 등을 유지하고 있으므로 이 시점부터 네트워크 이동 시 핸드오버(handover) 과정이 필요하다.</p>

<p><strong>핸드오버는 특정 AP나 기지국에서 다른 AP나 기지국으로 데이터그램의 송수신 책임을 전달하는 것이다.</strong></p>

<p>이 핸드오버 과정은 같은 통신사 네트워크 하에서는 쉽지만, 시나리오 (d)처럼 다른 통신사 네트워크라면 절차가 복잡해진다.</p>

<h4 id="7-5-2-홈-네트워크와-방문한-네트워크에서의-로밍-Home-Networks-and-Roaming-on-Visited-Networks">7.5.2 홈 네트워크와 방문한 네트워크에서의 로밍(Home Networks and Roaming on Visited Networks)</h4>

<p>각 구독자들은 홈에 해당하는 네트워크를 가지고 있고, 해당 <strong>홈 네트워크의 HSS에는 해당 구독자의 유일하게 구분되는 장비 ID와 구독자가 접근하는 서비스, 암호화 키, 서비스 구매 기록 등</strong>이 있다.</p>

<p><strong>이러한 홈 네트워크가 아닌 다른 네트워크에 연결되는 것을 로밍(roaming)이라고 하며, 이때 다른 네트워크는 방문 네트워크(visited network)라고 한다.</strong></p>

<p>인터넷 프로토콜 측에서는 이러한 <strong>홈 네트워크, 방문 네트워크 같은 개념을 찾아보기 힘들고, 이를 위해 모바일 IP 프로토콜</strong>이 생겨나, 해당 하는 부분을 대체하려 하지만, 일부 한계를 보이자, 방문한 네트워크 전반에 인증 네트워크 접근을 제공하기 위해 기존의 IP 프로토콜 위에서 작동하는 Eduroam 같은 프로토콜도 있다.</p>

<p>홈 네트워크의 개념이 주는 이점은 두가지가 있는데, <strong>하나는 해당 장치에 대한 정보를 찾을 수 있는 장소가 확정되어있으며, 두번째는 로밍 중인 모바일 장치와 의사소통하는 조정 지점으로 활용</strong> 가능하다.</p>

<p>홈네트워크를 비유하자면 마치 계속 이사다니는 사람(모바일 장치)의 부모님댁(홈 네트워크)과 같다고 생각하면 된다, 만약 스마트폰이 없다고 가정하고, 이사다니는 사람과 편지을 주고 받으려면, 계속 바뀌는 주소를 얻기위해 부모님댁에 물어보아 정보를 얻어낼 수 있고, 여기서 얻은 새로운 주소 정보를 물어봐서 직접 편지를 보내는 직접적인 방법과, 부모님댁에 맡겨두어 나중에 주는 간접적인 방법이 있을 수 있다.</p>

<h4 id="7-5-3-모바일-장치에-대한-직간접적-라우팅-Direct-and-Indirect-Routing-to-from-a-Mobile-Device">7.5.3 모바일 장치에 대한 직간접적 라우팅(Direct and Indirect Routing to/from a Mobile Device)</h4>

<p>figure 7.25는 홈 네트워크에 속해있거나 로밍중인 호스트와 통신에 대한 그림이다.</p>

<p>모바일 장치는 4G LTE로 치면, IMSI 같은 세계적으로 유일한 식별자와 전화번호 등의 정보가 SIM 카드에 들어있으며, 모바일 인터넷로 치면, 홈 네트워크 IP 법위내의 귀속된 IP 주소를 가지고 있다.<img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211126074818193.png" alt=""></p>

<p>모바일 네트워크 구조에서 어떻게 해당 모바일 장치와 통신할 지는 3가지 방법이 있고, 마지막 2개는 실무에서도 사용되고 있다.</p>

<h5 id="기존-IP-주소-기반-활용하기-Leveraging-the-Existing-IP-Address-Infrastructure">기존 IP 주소 기반 활용하기 (Leveraging the Existing IP Address Infrastructure)</h5>

<p>방문 네트워크의 호스트와 통신하는 가장 간단한 방법은 <strong>기존 IP 주소 구조를 사용</strong>하는 것이다.</p>

<p>ISP들이 BGP 알고리즘을 이용해 보유하고 있는 CIDR화 IP 주소 범위를 전파하고, 도달가능하게 만들었기 때문에, 모바일 장치의 IP 정보 역시 주변 네트워크에 전파해 놓는다면, 주변 네트워크들 또한 포워딩 테이블과 라우팅 정보를 갱신하여 패킷이 방문 네트워크와 모바일 장치 주소로 포워딩해올 수 있을 것이다.</p>

<p>네트워크를 떠나는 장치나 새로 등록한 장비 또한, 새로운 라우팅 정보를 삭제하거나 추가하는 방식으로 전파하면 될 것이다. 즉, 기존의 IP 네트워크 구조에서 바꾸지 않아도 통신 문제와 이동 문제가 둘다 해결된다.</p>

<p>하지만 치명적인 단점이 있는데, 바로 확장성이 떨어진다는 점으로, <strong>수많은 장치가 떠나고 들어올 때 마다, 수많은 라우터들이 수많은 포워드 테이블 항목을 바꾸고, 갱신해줘야 한다. 이는 현실적으로 불가능</strong>하다. 추가적인 단점은 챕터 끝자락에 나온다.</p>

<p><strong>현실적인 다른 방법으로는 홈 네트워크 구조를 이용</strong>하는 것이다. 홈 네트워크의 MME가 방문 네트워크 내의 홈 네트워크 소속 장치를 추적하면서 HSS 데이터베이스의 정보를 갱신하고, 필요할 때는 방문 네트워크에 제공한다. 마치 이전에 비유했던 부모님댁과 비슷하다.</p>

<p>기존의 MME와 HSS는 4G LTE의 비유지만 우리가 익숙하므로 IP 구조인 여기에서도 사용하겠다.</p>

<p><strong>방문 네트워크에서 장치는 방문 네트워크 내의 IP 주소가 필요하며 그 방법은 3가지가 있다.</strong></p>

<p><strong>홈 네트워크와 관련된 영구 주소(홈 네트워크 내에 속한 영구 IP 주소) 사용, 방문 네트워크에게 새로운 IP 주소 받기, 방문 네트워크의 NAT 서비스 이용하기</strong></p>

<p>후자 2개의 방법은 사용자가 계속 바뀌는 IP 주소에 직접 패킷을 보내는 방법이다.</p>

<p>추가로 NAT 방식이면, 방문 네트워크의 NAT 게이트웨이 라우터에 도착할 것이고, 패킷의 주소는 NAT 주소 번역에 의해 모바일 장치로 이동할 것이다.</p>

<p>이제 모바일 장치가 이동 뒤, IP 주소를 얻는 방법을 알았다. 하지만 어떻게 모바일 장치로 패킷을 보낼까? HSS만 모바일 장치의 현재 위치를 알고 있으므로, 모바일 장치의 영구 주소에 보낼 수 없다. 그에 대한 해답은 아래에 배울 두 방법이 있다.</p>

<h5 id="모바일-장치를-향한-간접-라우팅-Indirect-Routing-to-a-Moblie-Device">모바일 장치를 향한 간접 라우팅 (Indirect Routing to a Moblie Device)</h5>

<p><strong>간접 라우팅 방식(Indirect Routing)에는 송신자가 모바일 장치의 홈 네트워크 영구 주소에 패킷을 보낸다. 이 방법은 송신자가 현재 장치의 네트워크 위치가 어디있는지 신경쓰지 않아도 된다.</strong> 마치 영원히 홈 네트워크에 속해있는 것 처럼 보일 것이다. 이 방법은 Figure 7.26에 묘사되어 있다.</p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211126075034410.png" alt=""></p>

<p>HSS는 방문 네트워크와 상호작용해 모바일 장치의 위치를 추적하고, 홈 네트워크의 게이트웨이 라우터와 상호작용한다.</p>

<p>게티으웨이 라우터는 도착한 데이터그램의 주소가 홈 네트워크 소속이지만 다른 방문 네트워크에 위치한 모바일 장치의 것이라면, HSS와 상호작용하여 방문 네트워크 게이트웨이 라우터 주소를 알아내고, 해당 방문 네트워크 게이트웨이로 포워딩 한다.(Figure 7.26의 2번 과정)</p>

<p>그렇게 도착한 게이트웨이 라우터에서 데이터그램은 모바일 장치에게 라우팅되거나 NAT 네트워크라면 NAT 번역으로 패킷을 받는다 (Figure 7.26 3번 과정)</p>

<p>2번 과정을 좀더 자세하게 설명하자면, 홈 네트워크 게이트웨이 라우터는 데이터그램의 패킷을 방문 네트워크 게이트웨이 라우터로 향하게 해야하는데, 이때 목적지 주소를 HSS에게 받은 방문 네트워크에 존재하는 모바일 장치의 임시 IP 주소로 바꿔줘야 한다.</p>

<p>하지만, 원본 IP 데이터그램의 값을 변경하면, 네트워크 철학에도 어긋나고, 응용 프로그램들이 데이터그램이 변조된 것으로 인식할 수 있으므로, 원본 데이터그램은 그대로 두고, 새로운 더욱 큰 데이터그램으로 캡슐화한 뒤, 그곳에 목적지 주소를 모바일 장치 주소로 바꾼 뒤, 방문 네트워크 측으로 보내면, 방문 네트워크 측의 게이트웨이 라우터가 디캡슐화하여 원본 데이터그램으로 바꾼 뒤, 손님으로 있는 모바일 장치에게 넘겨 준다.</p>

<p>이 과정은 마치 IPv6와 IPv4의 상호 호환을 위한 과정과 비슷하고, 4G LTE에도 존재하는 <strong>터널링(tunnerling)의 개념</strong>이다</p>

<p>그렇다면 반대로, 방문 네트워크의 모바일 장치가 원래 송신자였던 호스트에게 답신하려면 어떻게 해야할까? 두가지 방법이 있는데,</p>

<ul>
  <li><strong>Figure 7.26(a)의 방법, 데이터그램을 다시 홈 네트워크로 보낸 뒤, 홈 네트워크 측에서 되돌려주는 방법</strong></li>
  <li><strong>Figure 7.26(b)의 방법, 데이터그램을 방문 네트워크에서 바로 보내는 방법, 통칭 LTE에서의 지역 발생(local breakout) 방법</strong></li>
</ul>

<p>이동성을 위한 <strong>간접 라우팅 방법을 이용하기 위한 네트워크 계층의 필요 기능</strong>을 정리해보자.</p>

<ul>
  <li>
    <p><strong>모바일장치-방문 네트워크 간 참여 프로토콜(A mobile-device–to–visited-network association protocol)</strong></p>

    <p>모바일 장치가 방문 네트워크에 참여하고, 떠나는 프로토콜이 필요하다.</p>
  </li>
  <li>
    <p><strong>방문 네트워크-홈네트워크 HSS 간 등록 프로토콜(A visited-network–to–home-network-HSS registration protocol)</strong></p>

    <p>방문 네트워크 측은 모바일 장치의 홈 네트워크 내부의 HSS와 의사소통해, 현재 모바일 장치의 위치를 알려주고, HSS에게서 모바일 장치의 정보를 가져와 인증을 실시한다.</p>
  </li>
  <li>
    <p><strong>홈 네트워크와 방문 네트워크, 각각 게이트웨 라우터들 간의 데이터그램 터널링 프로토콜(A datagram tunneling protocol between in the home network gateway and the visited network gateway router)</strong></p>

    <p>터널링에서 송신자측은 데이터그램을 캡슐화한 뒤, 터널 반대편 수신자 측으로 포워딩하고, 터널링 수신자 측은 디캡슐화를 진행한 뒤, 원본 데이터 그램을 방문 중인 모바일 장치에게 포워딩해준다.</p>
  </li>
</ul>

<p>어떻게 장치가 네트워크 사이를 이동하는가, 그리고 어떻게 방문 네트워크에 있는 장치와 통신하는가를 알 수 있었다. 여기서 의문점이 하나 생긴다.</p>

<p>만약, 모바일 장치가 한 네트워크에서 다른 네트워크로 이동하는 사이에 터널을 통과하고 있던(figure 7.26의 2번), 또는 TCP 연결 등지로 전송하려던(figure 7.26 1번) 패킷은 어떻게 되는가?</p>

<p><strong>네트워크 이송 사이에 전송된 패킷은 보통은 손실 처리되며, 만약, 데이터 신뢰성 전송이 필요하면, 송수신자의 호스트 간의 상위 계층의 데이터 신뢰성 전송이 재전송 처리한다.</strong></p>

<p>간접 라우팅은 모바일 IP 표준과 4G LTE 네트워크에서 사용하는 방법이며 자세한 사항은 [RFC 5944], [Sauter 2014] 참고 바람.</p>

<p>하지만 이러한 간접 라우팅은 단점이 있는데, 다음의 직접 라우팅에서 설명하겠다.</p>

<h5 id="모바일-장치를-향한-직접-라우팅-Direct-Routing-to-a-Mobile-Device">모바일 장치를 향한 직접 라우팅(Direct Routing to a Mobile Device)</h5>

<p>앞서 설명한 <strong>간접 라우팅은 삼각 라우팅 문제(triangle routing problem)이라는 문제</strong>가 존재하는데 <strong>홈 네트워크를 거쳐서 방문 네트워크로 도착해야하는 데에서 생기는 비효율성</strong>에 대한 문제이다.</p>

<p>예를 들어, A라는 네트워크가 홈 네트워크인 기기와 방문 네트워크인 기기 둘이 통신하려면, 거리상으로는 라우터를 거쳐 두 홉이면 충분하지만, 간접 라우팅의 경우 굳이 홈 네트워크 까지 거쳐야 가능하다.</p>

<p>직접 라우팅 (Direct routing)은 삼각 라우팅 문제에서 자유롭지만 추가적인 복잡함이 있다.</p>

<p>figure 7.27에 묘사 되어있는 방법으로, <strong>먼저 통신하려는 기기의 홈 네트워크의 HSS와 통신해 현재 기기가 위치한 방문 네트워크를 알아낸다.(1번, 2번 과정)</strong></p>

<p><strong>그 뒤부터 방문 네트워크 측의 게이트웨이 라우터와 직접 터널을 만들어 통신하면 된다.(3번, 4번 과정)</strong></p>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211126075135800.png" alt=""></p>

<p><strong>직접 라우팅 (Direct routing)은 삼각 라우팅 문제에서 자유롭지만 두가지 중요한 문제</strong>가 있다.</p>

<ul>
  <li>모바일 사용자 위치 프로토콜이 필요하다. <strong>간접 라우팅 프로토콜에서는 HSS가 모바일 기기의 위치를 보고받고, 홈 네트워크 게이트웨이 라우터에게만 제공했지만, 이제는 외부의 사용자에게도 알려줘야 한다.</strong></li>
  <li><strong>모바일 기기가 다른 네트워크로 이동하게 되면, 이 이동한 새로운 위치를 HSS 뿐만 아니라 송신자에게도 갱신해주는 프로토콜이 필요</strong>하다. 간접 라우팅에서는 모바일 기기가 알아서 HSS에 보고 하였고, 홈 네트워크 측은 새로운 네트워크와 터널링 하면 됬지만, 직접 라우팅에서 송신자는 처음 한번만 HSS에게사 수신받을 모바일 기기의 네트워크 위치를 가져가므로, 이를 갱신할 필요가 있다.</li>
</ul>

<p>이 두가지 문제는 챕터 끝단에서 해결법을 알려준다.</p>

<h3 id="7-6-실무에서의-이동성-관리-Mobility-Management-in-Pratice">7.6 실무에서의 이동성 관리 (Mobility Management in Pratice)</h3>

<p>홈, 방문 네트워크의 개념, 홈 네트워크의 역할과 가지고 있어야할 모바일 기기 정보, 홈 네트워크의 MME의 컨트롤 측면 기능, 직간접 라우팅을 통한 통신에 대한 데이터 측면 접근 등을 배웠다.</p>

<p>4G/5G에서의 이동성 관리와 모바일 IP 에 대해서 배워보자.</p>

<h4 id="7-6-1-4G-5G-네트워크에서의-이동성-관리-Mobility-Management-in-4G-5G-Networks">7.6.1 4G/5G 네트워크에서의 이동성 관리(Mobility Management in 4G/5G Networks)</h4>

<p>앞서서 4G/5G의 중요한 요소와 역할에 대해서 배웟었다. 이번에는 이러한 요소들이 모바일 이동성을 관리하기 위한 2G와 3G가 기반인 상호작용 구조를 배워보자.</p>

<p>먼저 Figure 7.28에서 기기 사용자가 4G/5G 네트워크에서 자동차로 이동하면서 동영상 스트리밍을 받는다는 시나리오에서의 4가지 단계에 대해서 배워보자.</p>

<ol>
  <li>
    <p><strong>모바일 기기의 기지국 참여 (Mobile device and base station association)</strong></p>

    <p>모바일 기기가 방문 네트워크의 기지국에 참여한다.</p>
  </li>
  <li>
    <p><strong>모바일 장치의 네트워크 요소에 대한 컨트롤 측면 설정 (Control-plane configuration of network elements for the mobile device)</strong></p>

    <p>방문 네트워크와 홈 네트워크가 방문 네트워크에 모바일 기기가 있다는 것을 가르키는 컨트롤 측면 상태를 수립한다.</p>
  </li>
  <li>
    <p><strong>모바일 기기의 터널 포워딜을 위한 데이터 측면 설정 (Data-plane configuration of forwarding tunnels for the mobile device)</strong></p>

    <p>모바일 장치가 영상 스트리밍 서버로 부터 IP 데이터그램을 간접적 라우팅을 통해 주고받기 위해 방문 네트워크 게이트웨이 라우터와 홈 네트워크의 PDN 게이트웨이 라우터 사이의 터널을 수립한다.</p>
  </li>
  <li>
    <p><strong>다른 기지국으로의 모바일 장치 핸드오버 (Mobile device handover from one base station to another)</strong></p>

    <p>모바일 기기가 방문 네트워크 소속을 핸드오버를 통해 바꾼다.</p>
  </li>
</ol>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211126075303352.png" alt=""></p>

<p>위 네 가지를 좀더 자세히 설명해 보면</p>

<ol>
  <li>
    <p><strong>기지국 참여(Base station association)</strong></p>

    <p>7.4.3에서 배웠던 것처럼, 장치가 모든 주파수에서 기지국이 발하는 최초 신호를 획득 후, 두번째 신호에서 기지국의 정보를 받아 네트워크에 참여하고, 모바일 기기와 기지국 간의 컨트롤 (시그널링) 채널을 시작한다. 모바일 기기는 이때, 기지국으로 IMSI를 보내어 모바일 기기를 인증하고, 홈네트워크와의 상호작용을 할 수 있게 한다.</p>
  </li>
  <li>
    <p><strong>모바일 기기 LTE 네트워크 요소의 컨트롤 측면 설정(Control-plane configuration of LTE network elements for the mobile device)</strong></p>

    <p>모바일 기기-기지국 시그널링 채널이 만들어지면, 기지국은 방문 네트워크의 MME에게 하여금 홈 네트워크와 방문 네트워크의 4G/5G 요소들을 설정해 모바일 노드의 행동에 따른 상태를 수립한다.</p>

    <ul>
      <li>MME는 IMSI와 다른 정보들을 통해 모바일 장치에게 인증, 암호화, 사용가능한 서비스 정보 등을 제공한다. 이러한 정보들은 해당 방문 네트워크, 이전 방문 네트워크, 기기의 홈 네트워크 등에서 가져올 수 있으며, 이때의 상호 인증 과정으로 모바일 장치는 방문 네트워크를, 방문 네트워크는 모바일 장치의 정체를 인증하게 된다.</li>
      <li>MME는 모바일 기기의 홈 네트워크 측의 HSS에게 현재 자신의 방문 네트워크에 해당 기기가 존재하고 있다고 알려주고, HSS는 이 사실을 데이터베이스에 갱신한다.</li>
      <li>기지국과 모바일 장치는 기지국과 모바일 기기간의 데이터 측면 채널을 수립하기 위해 매개변수를 고른다.(컨트롤 측면 채널은 이미 세웠음)</li>
    </ul>
  </li>
</ol>

<p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211126075403238.png" alt=""></p>

<ol>
  <li>
    <p><strong>모바일 기기의 터널 포워딜을 위한 데이터 측면 설정 (Data-plane configuration of forwarding tunnels for the mobile device)</strong></p>

    <p>MME는 데이터 측면 채널을 Figure 7.29처럼 수립한다. 이때 두개의 터널이 수립되는데,</p>

    <p>하나는 기지국과 방문 네트워크 서빙 게이트웨이 라우터 사이,</p>

    <p>나머지 하나는 방문 네트워크 서빙 게이트웨이 라우터와 모바일 기기의 홈 네트워크의 PDN 게이트웨이 라우터 사이에 존재한다.</p>

    <p>4G LTE는 이러한 대칭적 간접 라우팅(symmetric indirect routing)을 수립하는데, 5G와 마찬가지로 GTP(GPRS Tunneling Protocol)[3GPP GTPv1-U 2019]를 이용한다.</p>

    <p>TEID (터널 끝점 ID, Tunnel Endpoint ID)를 GTP 패킷의 헤더에 사용해 데이터그램의 터널 소속을 알려주어 여러 흐름이 GTP에 의해 멀티플렉스, 디멀티플렉스되게 해준다.</p>

    <p>figure 7.29와 figure 7.18(홈 네트워크에서만 이동하는 모바일 이동성 처리)을 비교하면, 서빙 게이트웨이는 모바일 기기와 같은 네트워크에 존재하지만, PDN 게이트웨이는 모바일 기기와 다른 곳에 있으며(figure 7.18에는 같은 곳에 있다.), 이것은 간접 라우팅의 특성이다.</p>

    <p>간접 라우팅과 다르게 서빙 게이트웨이가 같은 방문 네트워크 내에 존재하는 PDN 게이트웨이와 터널을 만드는 지역 발생(local breakout)이라는 방법도 있지만 많이 사용되진 않는다.</p>

    <p>이제 장치는 외부 인터넷과 통신할 수 있다.</p>
  </li>
  <li>
    <p><strong>핸드오버 관리(Handover management)</strong></p>

    <p>핸드오버는 모바일 장치가 다른 네트워크의 기지국에 참여하려 할때 발생된다.</p>

    <p>figure 7.30처럼 같은 네트워크 내의 다른 기지국으로 바꿀 때는 서빙게이트-기지국 간의 터널만 바뀌지만, 만약 다른 네트워크 소속의 기지국으로 바꾼다면 좀더 상황이 복잡해진다[Sauter 2014; GSMA 2019a].</p>

    <p>핸드오버가 일어나는 이유는 여러가지가 있다. 예를 들어, 기지국과 기기 사이의 신호가 심각하게 약해지거나, 한 기지국이 너무나 많은 트래픽을 처리해야해서, 주변의 다른 기지국에 넘겨주는 등이다.</p>

    <p>모바일 장치는 주변 기지국의 신호를 주기적으로 측정해 서비스의 상태를 예측할 수 있으며, 이러한 정보는 기지국에도 주기적으로 보고된다.</p>

    <p>기지국은 이 정보를 토대로 자신의 혼잡상황을 알 수 있으며, 이때 다른 기지국에 핸드오버 해주는 신호 기준이나 기지국 선택 방법 등은 표준화되지 않았으므로, 통신사 등에서 알아서 구현한다.</p>

    <p><img src="/assets/img/네트워크 정리-Chap 7-무선과 모바일 네트워크/image-20211126075609661.png" alt=""></p>
  </li>
</ol>

<p>​        figure 7.30은 원(source) 기지국에서 타(target) 기지국으로 핸드오버할 때의 단계를 나타낸 그림이다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    1. 원 기지국에서 핸드오버할 타 기지국을 고른다. 이후 핸드오버 요청 메시지를 타 기지국에 보낸다.
    1. 타 기지국은 모바일 기기를 도울 자원이 되는지, QOS(quaility of service) 등을 확인하고, 가능하다면, 타임 슬롯 같은 자원들을 미리 선점한다. 이러한 선점 행위 덕분에 기지국 참여 프로토콜을 최대한 생략하고 빠르게 참여할 수 있다. 타 기지국은 원 기지국에 모바일 기기가 네트워크 참여시 필요로 할 기지국 정보를 포함해서 핸드오버 요청 Acknowledge 메시지를 보낸다.
    1. 원 기지국은 ACK 메시지를 받고 모방리 기기에게 타 기지국의 정보와 채널 접근 정보를 알려준다. 이때부터 모바일 기기는 타 기지국에서 데이터를 주고받을 수 있고, 모바일 기기 입장에서는 핸드오버가 종료된다.
    1. 원기지국은 나간 모바일 기기로 향하던 데이터그램 터널을 종료하지 않고 유지하되, 모바일 기기에게 포워딩하지 않고 데이터그램들을 타 기지국으로 넘긴다.
    1. 타 기지국은 MME에게 자신이 새로운 모바일 기기의 방문 기지국이라고 알리고, MME는 서빙게이트웨이 라우터와 타 기지국 사이의 터널을 설정해준다.
    1. 타 기지국은 원 기지국에 데이터 터널이 만들어졌음을 알리고, 원 기지국에게 터널을 종료하고, 모바일 기기를 위해 할당한 자원을 풀게 함.
    1. 타 기지국은 이제 터널을 통해 핸드오버 기간동안 도착했던 데이터그램을 포함한 데이터그램들을  모바일 기기와 주고 받을 수 있다.
</code></pre></div></div>

<p>이러한 로밍 설정 방법은 5G에도 사용될 것이며, 5G는 기지국이 좀더 밀집되게 설정해야 하므로, 핸드오버가 자주 일어날 것이다. 또한, 컨트롤 측면을 SDN 프레임워크으로 바꾸게 된다면 더욱 큰 용량에 저 지연의 5G 무선전화 네트워크 컨트롤 측면이 될 것이며 활발히 연구 중이다.</p>

<h4 id="7-6-2-모바일-IP-Mobile-IP">7.6.2 모바일 IP (Mobile IP)</h4>

<p>모바일 IP 구조와 프로토콜들을 이용한다면 4G/5G가 아닌 인터넷을 이용해서도 응용 프로그램에서 이동형 서비스를 제공할 수 있다.</p>

<p>하지만 사람들의 사용례와 적절한 시기 놓침, 4G/5G 같은 강력한 라이벌으로 인해 모바일 IP의 발달이 느리다.</p>

<p>아마 고정된 서비스 제공을 위한 WiFi와 이동성 서비스 제공을 위한 4G/5G 양강 체제는 수 십년간 지속될 것이다.</p>

<p>하지만 모바일 IP 기술 또한 무선 전화 네트워크와 기본적인 이동성 원칙을 구현했으므로 살펴보도록 할 것 이다.</p>

<p>모바일 IP와 무선전화 네트워크의 구조는 놀랍도록 유사하다. 모바일 기기는 영구 귀속 IP 주소를 가지고 있고, 외부(foreign = 4G에서의 방문(visited)) 네트워크에서는 의탁 주소를 받게 된다.</p>

<p>모바일 IP에서 홈 에이전트는 모바일 기기의 위치를 추적하고, 외부 네트워크 소속 외부 에이전트에게 정보를 갱신받는다. 이는 마치 HSS와 비슷하다.</p>

<p>4G/5G와 모바일 IP 둘다 터널을 이용한 간접 라우팅을 사용한다. 이러한 유사점은 아래 Table 7.3에 요약해놓았다.</p>

<table>
  <thead>
    <tr>
      <th>4G/5G 요소</th>
      <th>모바일 IP 요소</th>
      <th>비고</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>홈 네트워크(Home network)</td>
      <td>홈 네트워크(Home network)</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>방문 네트워크(Visited network)</td>
      <td>외부 네트워크(Foreign network)</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>IMSI 식별자(IMSI identifier)</td>
      <td>영구 IP 주소 (Permanent IP address)</td>
      <td>전세계적 유일한 라우팅 가능한 주소 정보</td>
    </tr>
    <tr>
      <td>홈 구독자 서비스(HSS)(Home Subscriber Service)</td>
      <td>홈 에이전트 (Home agent)</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>이동성 관리 개체 (MME)(Mobility Management Entity)</td>
      <td>외부 에이전트 (Foreign agent)</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>데이터 측면: 홈 네트워크와 방문 네트워크 사이의 터널과 모바일 장치가 존재하는 터널을 통한 홈 네트워크 간접 포워딩</td>
      <td>데이터 측면: 홈 네트워크와 방문 네트워크 사이의 터널을 통한 홈 네트워크 간접 포워딩</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>기지국(eNode-B)(Base Station)</td>
      <td>접근 지점 (AP)(Acess Point)</td>
      <td>AP와 정확히 들어맞는 요소 모바일 IP에 없음</td>
    </tr>
    <tr>
      <td>라디오 접근 네트워크(Radio Access Network)</td>
      <td>WLAN</td>
      <td>WLAN과 정확히 들어맞는 요소 모바일 IP에 없음</td>
    </tr>
  </tbody>
</table>

<p>[Table 7.3 4G/5G와 모바일 IP 구조의 유사성 (Commonalities between 4G/5G and Mobile IP architectures)]</p>

<p>모바일 IP는 3개의 주 부위로 이루어져 있다.</p>

<ul>
  <li>
    <p><strong>에이전트 탐색(Agent discovery)</strong></p>

    <p>모바일 IP에서는 외부 에이전트가 이동성 서비스를 모바일 기기에 알려 네트워크에 참여하게 하는 프로토콜을 사용한다.</p>

    <p>외부 네트워크에서 기기가 사용할 의탁 주소를 할당하고, 모바일 기기의 참여를 기기의 홈 네트워크의 홈 에이전트 측에 등록하고, 외부 네트워크에서 모바일 기기가 데이트그램을 주고 받을 수 있게 하는 등의 서비스를 제공한다.</p>
  </li>
  <li>
    <p><strong>홈 에이전트를 등록(Registration with the home agent)</strong></p>

    <p>모바일 IP는 모바일 기기나 외부 에이전트가 의탁 주소를 모바일 기기의 홈 에이전트에게 등록하거나 삭제하는 프로토콜을 사용한다.</p>
  </li>
  <li>
    <p><strong>데이터그램의 간접 라우팅(Indirect routing of datagrams)</strong></p>

    <p>모바일 IP는 데이터그램을 홈 에이전트를 통해 모바일 기기로 포워딩하는 방식, 에러 조정, 터널링 방식 등을 정의한다.</p>
  </li>
</ul>

<p>모바일 IP는 아주 간략하게 설명하였으며, 더욱 자세히 알고 싶으면 7번째 개정판이나 다른 모바일 IP 관련 서적 참조</p>

<h3 id="7-7-무선과-이동성-상위-계층-포로토콜에의-영향-Wireless-and-Mobility-Impact-on-Higher-Layer-Protocols">7.7 무선과 이동성: 상위 계층 포로토콜에의 영향  (Wireless and Mobility: Impact on Higher-Layer Protocols)</h3>

<p>무선 네트워크는 유선 네트워크에 비해 연결 계층(페이딩, 다중경로, 숨겨진 터미널 등 물리적 장애 때문에)과 네트워크 계층(모바일 기기가 계속 네트워크를 바꾸는 특성 때문에)이 상당히 다르다는 것을 알 수 있었다.</p>

<p>반대로 응용 계층과 전달 계층은 이러한 유무선의 영향을 적게 받아 거의 변화가 없어야하지만, TCP에서는 유무선의 차이가 크다.</p>

<p>TCP의 재전송과 혼잡 제어는 패킷이 혼잡한 상황에 의해 손실되거나, 감쇠, 간섭 등의 원인에 의해 손실, 변형 됬음으로 예측하고 진행되는 활동이지만, 무선 네트워크에서는 단순히 전파 중 오류가 많이 일어날 뿐만 아니라 네트워크 상황이 혼잡하지 않아도, 핸드오버, 비트 에러 감지 등에 의해 손실처리되는 경우가 많으므로, 이러한 상황에서는 실제로 혼잡해서 벌어진 손실이 아니므로 혼잡 제어가 일어나지 않아야 되지만 TCP는 혼잡 윈도우를 줄여서 전송율을 낮추어버리기 때문에 성능이 크게 떨어진다.</p>

<p>이 문제를 해결하기 위해 크게 3가지 방법을 사용하는데,</p>

<ul>
  <li>
    <p><strong>국지 회복(Local recovery)</strong></p>

    <p>국지 회복 프로토콜은 무선 연결에서 에러가 발생시 회복한다. 예를 들어 802.11 ARQ(Automatic Repeat reQuest) 프로토콜이나 ARQ와 FEC(Forward Error Correction) 동시 사용 등이다.</p>
  </li>
  <li>
    <p><strong>TCP 송신자의 무선 연결 인지(TCP sender awareness of wireless links)</strong></p>

    <p>TCP가 패킷의 손실을 감지할 때, 유선 링크에서 손실되었는지, 무선 링크에서 손실되었는지 구분하게 만드는 방법이다. 이를 통해 혼잡 제어가 올바른 상황에서만 일어나게 해준다.</p>

    <p>[Liu 2003]에서는 구별하는 방법을, [Huang 2013]에서는 LTE에 좀더 맞는 응용 프로그램과 전달 계층 메커니즘 개발 방법에 대해서 이야기 한다.</p>
  </li>
  <li>
    <p><strong>연결 분배 방법 (Split-connection approaches)</strong></p>

    <p>모바일 사용자와 다른 지점 간의 지점간 연결을 모바일 사용자와 무선 접근 지점 까지, 그리고 무선 접근 지점부터 유선 통신 지점까지 총 2개의 전달계층 연결로 바꾼다.</p>

    <p>이때 무선 연결 지점은 TCP 연결을 그대로 쓰거나, 전용으로 설계된 UDP 기반 에러 회복 프로토콜을 사용할 수도 있다.</p>
  </li>
</ul>

<p>전달 계층 이외에도 응용 계층 프로토콜들 또한 제한된 무선 연결 속도와 대역폭 때문에 유선과 달라져야하는 부분이 있다.</p>

<p>예를 들어 웹 브라우저는 유선 통신일때 보다, 무선 통신일 경우 이미지의 화질이나 갯수 등에서 더욱 낮은 전송속도를 요구하게 줄이던지, 천천히 전송되도 되게 하던지 해야한다.</p>
</body></html>
</div>

  </div><a class="u-url" href="/articles/computer_science/network/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%20%EC%A0%95%EB%A6%AC-Chap%207-%EB%AC%B4%EC%84%A0%EA%B3%BC%20%EB%AA%A8%EB%B0%94%EC%9D%BC%20%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC.html" hidden></a>
  <p class="u-path" hidden>_articles/computer_science/network/네트워크 정리-Chap 7-무선과 모바일 네트워크.md</p>
  <script type="module" src="/assets/scripts/utils/update_recents.js"></script>
</article>

    </div>
  </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">🧠SUBBRAIN</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="a-name">🧠SUBBRAIN</li><li><a class="u-email" href="mailto:roadvirushn@gmail.com">roadvirushn@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li>
    <a href="https://github.com/RoadVirusHN"><svg class="svg-icon">
        <use xlink:href="/assets/svg/social-icons.svg#github"></use>
      </svg>
      <span class="username">RoadVirusHN</span></a>
  </li><!---->
</ul></div>

      <div class="footer-col footer-col-3">
        <p>이것이 디지털 동물의 숲이다!! 파멸편 (This is the Digital Animal Crossing!! Bad Ending.01)</p>
      </div>
    </div>

  </div>

</footer>
</body>

<script src="/assets/scripts/bundle/common.bundle.js"></script>

</html>
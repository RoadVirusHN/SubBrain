<!DOCTYPE html>
<html lang="kr"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Django 기본 | 🧠SUBBRAIN</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Django 기본" />
<meta property="og:locale" content="kr" />
<meta name="description" content="style: number min_depth: 2 max_depth: 3 varied_style: true" />
<meta property="og:description" content="style: number min_depth: 2 max_depth: 3 varied_style: true" />
<link rel="canonical" href="http://localhost:4000/articles/web/backend/Django/Django%20%EA%B8%B0%EB%B3%B8.html" />
<meta property="og:url" content="http://localhost:4000/articles/web/backend/Django/Django%20%EA%B8%B0%EB%B3%B8.html" />
<meta property="og:site_name" content="🧠SUBBRAIN" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-02-14T17:21:08+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Django 기본" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2020-02-14T17:21:08+09:00","datePublished":"2020-02-14T17:21:08+09:00","description":"style: number min_depth: 2 max_depth: 3 varied_style: true","headline":"Django 기본","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/articles/web/backend/Django/Django%20%EA%B8%B0%EB%B3%B8.html"},"url":"http://localhost:4000/articles/web/backend/Django/Django%20%EA%B8%B0%EB%B3%B8.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="🧠SUBBRAIN" /><link rel="icon" type="image/x-icon" href="/assets/img/common/favicon.ico">
</head>
<div class="scrollWrapper">
  <div class="scrollbar"></div>
  <div class="progressbar"></div>
  <div class="scrollbarButton"></div>
</div>

<link rel="stylesheet" href="/assets/css/obsidian/obs-scrollbar.css" />

<!--<div class="redirection">
  <h1 class="name">Redirection for full experience.</h1>
  <br>
  Move to <br /> <a class="to" href="#">netlify url</a><br />
  <div>after <span class="counter">10</span>secs.</div>
  press <button class="cancle">here</button> to cancle.
</div>
<div class="overlay"></div>
<script type="module" src="/assets/scripts/common/components/init_redirection.js"></script>

<link rel="stylesheet" href="/assets/css/common/redirection.css" />-->

<body><header class="site-header" role="banner">

  <div class="wrapper" style="display: flex; justify-content: space-between;"><div id="header-wrapper">
    <a class="site-title" rel="author" href="/blog">🧠SUBBRAIN</a>

    </div><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><script src="https://unpkg.com/lunr/lunr.js"></script>
<link rel="stylesheet" href="/assets/css/common/searchbar.css" />

<form id="search-form" method="get">
  <span id="search-wrapper">
    <span id="tag-holder" ></span>
    <input type="text" id="search-box" placeholder='Prefix "#" to add Tag.' autocomplete="off">
    <span class="inner-search" >🔍</span>
  </span>
</form><a class="page-link" href="/">ABOUT ME</a><a class="page-link" href="/blog">ALL ARTICLES</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
    <link rel="stylesheet" href="/assets/css/common/drawer.css" />
<button class="drawer-button open">▶️</button>
<div id="drawer" class="close">
  <button class="drawer-button close">
    ◀️
  </button>
  <div class="drawer-content">
    <div class="my-description">
      <div class="avatar-section" style="display: flex; flex-direction: row;">

        <img src="/assets/img/common/avatar.png" alt="avatar" class="avatar">
        <div style="display: flex; flex-direction: column; margin-left: 5px;">
          <a href="/about/">
            <h3 class="name">ROADVIRUSHN</h3>
          </a>
          <div class="stack-list" style="margin: 5px 0 0 5px;">
            <a title="My github page" href="https://github.com/RoadVirusHN">
  <svg class="svg-icon" width="16" height="16" viewBox="0 0 16 16">
    <use xlink:href="/assets/svg/social-icons.svg#github"></use>
  </svg>
</a>
<a title="My G-mail" href="mailto:roadvirushn@gmail.com">
  <svg class="svg-icon" width="16" height="16" viewBox="0 0 16 16">
    <use xlink:href="/assets/svg/social-icons.svg#gmail"></use>
  </svg>
</a>
<a title="My Blog" href="https://luminous-bubblegum-8e9be4.netlify.app">
  <svg class="svg-icon" width="16" height="16" viewBox="0 0 16 16">
    <use xlink:href="/assets/svg/social-icons.svg#blog"></use>
  </svg>
</a>
          </div>
        </div>
        <!-- <h4 class="name">(JUNSEOK YUN)</h4> -->
      </div>
      <p style="margin: 5px 0 0 0;">
        풀스택 웹🌐 개발자 지망생 🧑🏽‍💻
        <br>
        ➕ 인공지능 관심 🤖
      </p>
    </div>
      <hr>
      <div class="categories">
        <h3 style="margin: 0;"><a href="/">Categories</a></h3>
        <ul class="category-list">
  
  
  
  <li>
    <strong style="font-size: larger;">┣ </strong>
    <h3 style="display: inline;">
      
      <a href="/categories/COMPUTER_SCIENCE/" class="category-drop-down">▶</a>
      
      <span class="category-link">COMPUTER_SCIENCE</span>
    </h3>
    <span style="font-size: xx-small;">
       
      📂: 6
    </span>
    <ul class="child-category-list">
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/COMPUTER_SCIENCE/DATABASE/">DATABASE</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 1 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/COMPUTER_SCIENCE/ALGORITHM/">ALGORITHM</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 16 
            📂: 1
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/COMPUTER_SCIENCE/OS/">OS</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 2 
            📂: 1
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/COMPUTER_SCIENCE/NETWORK/">NETWORK</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 8 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/COMPUTER_SCIENCE/ETC/">ETC</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 1 
            📂: 1
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┗ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/COMPUTER_SCIENCE/OSSU/">OSSU</a>
        </h4>
          <span style="font-size: xx-small;">
             
            📂: 1
          </span>
      </li>
      
    </ul>
  </li>
  
  
  <li>
    <strong style="font-size: larger;">┣ </strong>
    <h3 style="display: inline;">
      
      <a href="/categories/WEB/" class="category-drop-down">▶</a>
      
      <span class="category-link">WEB</span>
    </h3>
    <span style="font-size: xx-small;">
       
      📂: 3
    </span>
    <ul class="child-category-list">
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/WEB/FRONTEND/">FRONTEND</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 2 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/WEB/BACKEND/">BACKEND</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 2 
            📂: 2
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┗ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/WEB/CI,CD/">CI,CD</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 2 
            📂: 2
          </span>
      </li>
      
    </ul>
  </li>
  
  
  <li>
    <strong style="font-size: larger;">┣ </strong>
    <h3 style="display: inline;">
      
      <a href="/categories/ETC/" class="category-drop-down">▶</a>
      
      <span class="category-link">ETC</span>
    </h3>
    <span style="font-size: xx-small;">
       
      📂: 2
    </span>
    <ul class="child-category-list">
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/ETC/ETCS/">ETCS</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 10 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          ┃  
          ┗ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/ETC/SUBBRAIN 개발기/">SUBBRAIN 개발기</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 5 
            
          </span>
      </li>
      
    </ul>
  </li>
  
  
  <li>
    <strong style="font-size: larger;">┗ </strong>
    <h3 style="display: inline;">
      
      <a href="/categories/AI/" class="category-drop-down">▶</a>
      
      <span class="category-link">AI</span>
    </h3>
    <span style="font-size: xx-small;">
       
      📂: 9
    </span>
    <ul class="child-category-list">
      
      <li>
        <strong style="font-size: larger;">
          &nbsp;&nbsp;&nbsp;
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/AI/AITOOLS/">AITOOLS</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 3 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          &nbsp;&nbsp;&nbsp;
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/AI/CV/">CV</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 2 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          &nbsp;&nbsp;&nbsp;
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/AI/DEEP_LEARNING/">DEEP_LEARNING</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 1 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          &nbsp;&nbsp;&nbsp;
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/AI/DATA_VIS/">DATA_VIS</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 2 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          &nbsp;&nbsp;&nbsp;
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/AI/GRAPH/">GRAPH</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 1 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          &nbsp;&nbsp;&nbsp;
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/AI/LIGHTWEIGHT/">LIGHTWEIGHT</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 1 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          &nbsp;&nbsp;&nbsp;
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/AI/MATH/">MATH</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 1 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          &nbsp;&nbsp;&nbsp;
          ┣ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/AI/NLP/">NLP</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 3 
            
          </span>
      </li>
      
      <li>
        <strong style="font-size: larger;">
          &nbsp;&nbsp;&nbsp;
          ┗ 
        </strong>
        <h4 style="display: inline; background-color: lightgray; padding: 0px 1px; border-radius: 2px;">
          <a class="category-link" href="/categories/AI/STRUCTURED_DATA/">STRUCTURED_DATA</a>
        </h4>
          <span style="font-size: xx-small;">
            📄: 2 
            
          </span>
      </li>
      
    </ul>
  </li>
  
</ul>
      </div>
      <hr>
      <div class="recent-view">
        <h3 style="margin: 0;">Recent views</h3>
        <ul style="margin: 0;">
          <li>
            <strong style="color:rgb(219, 219, 12);">1 <a id="recent-1"></a></strong>
          </li>
          <li>
            2 <a id="recent-2"></a>
          </li>
          <li>
            3 <a id="recent-3"></a>
          </li>
          <li>
            4 <a id="recent-4"></a>
          </li>
          <li>
            5 <a id="recent-5" style="overflow: hidden;"></a>
          </li>
        </ul>
      </div>
    </div>
    <hr>
  <div style="height: 7vh;"></div>
</div>
    <div class="wrapper">
      <article class="article h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="article-header">
    <h1 class="article-title a-name" itemprop="name headline">Django 기본</h1>
    <p class="article-meta">
      <time class="dt-published" datetime="2020-02-14T17:21:08+09:00" itemprop="datePublished">Feb 14, 2020
      </time></p>
  </header>

  <div class="article-content e-content" itemprop="articleBody">
     
  
<script>
  MathJax = {
    tex: {
      inlineMath: [
        ["$", "$"],
        ["\\(", "\\)"],
      ],
    },
    svg: {
      fontCache: "global",  
     // scale: 1.5,
    },
    chtml: {
     // scale: 1.5,
    },
  };
</script>
<script
  type="text/javascript"
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>
 
 


<script src="/assets/scripts/bundle/obsidian.bundle.js"></script>
<link rel="stylesheet" href="/assets/css/obsidian/callout.css" />
<link rel="stylesheet" href="/assets/css/obsidian/image.css" />
<link rel="stylesheet" href="/assets/css/obsidian/link-warning.css" />
<link rel="stylesheet" href="/assets/css/obsidian/preview.css" />

<div class="content-section">
  <html><head></head><body><ol id="markdown-toc-0"><li lvl="2"><a id="markdown-toc-0-0" href="#django의-개념">django의 개념</a><ul></ul></li><li lvl="2"><a id="markdown-toc-0-1" href="#MVC-Model-View-Controller-MTV-Model-Template-View-패턴">MVC(Model View Controller), MTV(Model Template View) 패턴</a><ul></ul></li><li lvl="2"><a id="markdown-toc-0-2" href="#django-생성법과-가상환경설정">django 생성법과 가상환경설정</a><ul></ul></li><li lvl="2"><a id="markdown-toc-0-3" href="#django-앱-추가-방법">django 앱 추가 방법</a><ul></ul></li><li lvl="2"><a id="markdown-toc-0-4" href="#url로-앱에-변수-넘겨주기-variable-routing">url로 앱에 변수 넘겨주기 (variable routing)</a><ul><li lvl="3"><a id="markdown-toc-0-5" href="#url-namespacing">url namespacing</a><ul></ul></li></ul></li><li lvl="2"><a id="markdown-toc-0-6" href="#DTL-django-template-language">DTL (django template language)</a><ul><li lvl="3"><a id="markdown-toc-0-7" href="#QnA-달기">QnA 달기</a><ul></ul></li></ul></li><li lvl="2"><a id="markdown-toc-0-8" href="#ERD-Entity-Relationship-Diagram">ERD ( Entity Relationship Diagram)</a><ul></ul></li><li lvl="2"><a id="markdown-toc-0-9" href="#if-문을-이용한-restfull한-웹코딩">if 문을 이용한 restfull한 웹코딩</a><ul><li lvl="3"><a id="markdown-toc-0-10" href="#django-form-이용">django form 이용</a><ul></ul></li></ul></li></ol>
<h1 id="django-프레임워크">django 프레임워크</h1>

<h2 id="django의-개념">django의 개념</h2>
<p>django 폴더 참조</p>
<ul>
  <li>다소 독선적</li>
  <li>관용적</li>
  <li>정적인 웹을 동적인 웹으로 바꿈</li>
  <li>기본적인 구조, 필요한 코드를 제공해줌</li>
  <li>유튜브, 나사, 인스타그램 등</li>
</ul>

<h2 id="MVC-Model-View-Controller-MTV-Model-Template-View-패턴">MVC(Model View Controller), MTV(Model Template View) 패턴</h2>
<ul>
  <li>MVC(model view controller) 패턴 : 모든 웹 서비스라면 모두 가지고 있는 디자인 패턴</li>
  <li>MTV(model template view) : 파이썬이 바꾼 이름, 힙스터 쉑 ㅋ
    <ul>
      <li>모델: 데이터를 관리, 데이터 베이스 그 자체</li>
      <li>템플릿 : 사용자가 보는 화면,</li>
      <li>뷰 : 중간 관리자 요청을 받아서 모델에게 데이터 찾으라고 명령하고 모델에게서 데이터를 받은뒤 템플릿으로 보냄</li>
    </ul>
  </li>
</ul>

<p>## django_intro 폴더 (프로젝트 폴더) 내부 파일<br>
 __init__.py : 패키지로 인식하게 해줌<br>
 wsgi.py : 웹서버 게이트웨이 인터페이스<br>
 settings.py : 여러가지 설정에 관련된 것<br>
 urls.py : flask의 app.route 역할</p>

<p>django-admin startapp pages : pages 폴더를 만듬 내부 구조는 상당히 유사함<br>
 admin.py : 관리하는 공간<br>
 apps.py : 엡에대한 설정<br>
 models.py : 데이터베이스에 관련된 것 MㅇTV 관련<br>
 testsp.py : 테스팅용<br>
 views.py : 중간관리자 MTV 관련<br>
 장고는 프로젝트 내부에 여러가지 앱을 만드는 형식</p>

<p>settings.py의 Installed_Apps 란에 pages를 등록하면 앱을 등록하는 행위임 (커스텀은 맨위에 놓은 것을 권장, 이름이 같으면 맨위 리스트에 있는 것을 가져옴)</p>

<p>USE_I18N =  위에있는 Lanugate_code 를 사용할 것인가?</p>

<h2 id="django-생성법과-가상환경설정">django 생성법과 가상환경설정</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. mkdir 13workshop
2. cd 13workshop
3. python -m venv venv
4. source venv/Scripts/activate
5. pip install django
6. django-admin startproject classroom . (. 안찍으면 같은 이름의 폴더를 추가 후 생성)
7. python manage.py runserver
선택:
.gitignore 파일 안에 설정
django-admin startapp pages로 pages 앱 생성 (프로젝트 폴더 바깥에서?)
python manage.py startapp your_app_name (앱 생성 2)

</code></pre></div></div>
<p>가상 환경 설정 : 웹 디벨로핑에 필요한 모듈만 python에 쌓는것 (예를들어 jupyter 같은거 필요 없음)</p>

<p>python -m venv 폴더이름 : 처음 venv는 버전 환경(version environment)의 준말 해당 디렉토리에 폴더이름이 되어있는 가상환경을 만들어줌</p>

<p>디렉토리 안에서 source 폴더이름/Scripts/activate 하면 (또는 거기서 그 파일을 클릭) (venv)라는 키워드가 터미널에 뜸<br>
 안에서 쓸모없는 패키지가 없어짐<br>
 deactivate 하면 다시 사라짐</p>

<p>또는 vscode에서 f1으로 select interpreter을 고른후, venv 환경의  파이썬을 고르면 터미널에서 (venv)가 활성화 되어있음<br>
 django-admin startproject django_intro . 로 현재 폴더에 프로젝트 생성 <br>
 python manage.py runserver 로 서버 돌리기</p>

<p>django-admin startapp pages로 pages 앱 생성<br>
python manage.py startapp your_app_name (앱 생성 2)</p>

<h2 id="django-앱-추가-방법">django 앱 추가 방법</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 대략적인 흐름 : 
1. urls.py에서 urlpatterns 리스트에 path(&amp;#34;url이름/&amp;#34;, views.url이름), 을 등록 , 2번째 views.url이름은 views.py에 올라가는 함수 이름임, 1번째 url 이름 뒤에 / 필수 (django가 자동으로 마지막에 /를 붙이므로 없으면 절대 접근할수 없음)
2. views.py에 url이름과 같은 함수(또는 1단계에 정의한 2번째 인자)를 정의 (request는 무조건 처음 인자에 포함), 
3. return으로 render(request, &amp;#39;html이름&amp;#39;, context), context는 넘겨줄 인자들의 dictionary, 
4. pages 폴더의 templates폴더내에 url이름.html에 파일 만들고 html 코드 구성, 
5. 인터넷에 해당 url로 가보면 완성

</code></pre></div></div>
<h2 id="url로-앱에-변수-넘겨주기-variable-routing">url로 앱에 변수 넘겨주기 (variable routing)</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://서버주소/greeting/윤준석/

</code></pre></div></div>
<p>path(‘greeting/<str:name>/', views.greeting)
이런식으로 name 문자열을 넘겨줄 수 있음,
이러면 views.py에 함수를 만들때 매개변수로 name 을 문자열로 넘겨주면
웹 페이지 url을 통해 해당 변수를 넘겨주면 받을 수 있음
str이 아니라 int면 타입이 정수형으로 바뀜</str:name></p>

<p>path(‘mul/<int:num1>/<int:num2>', views.mul)
이런식으로 여러개의 인수를 넘겨줄 수도 있으며, 해당 매개변수들을 연산하려면 views.py의 함수 내에서 해야한다.
이런식으로 동적인 웹, 데이터베이스 ID에 따른 아이디에 따른 웹페이지 자동생성등에 쓴다.</int:num2></int:num1></p>

<h3 id="url-namespacing">url namespacing</h3>
<ul>
  <li>url을 html 파일에 하이퍼링크로 넘겨줄 때, DTL을 이용하여 변수화해서 넘겨줄 수 있다.
    <blockquote>
      <p>namspacing 예시와 기존의 url 할당법(밑)<br>
```html<br>
&amp;#60;a href="{% url 'todos:index' %}"&amp;#62;전체글보기&amp;#60;/a&amp;#62; <br>
&amp;#60;a href="/todos/new/"&amp;#62;새로 게시글 작성하기&amp;#60;/a&amp;#62;&amp;#62;</p>
    </blockquote>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- 기존의 url 할당 법에서는 /를 맨 앞에 추가하면 root 주소 앞에 해당 주소를 추가한다는 의미이다
- /가 없다면 현재 주소에 추가로 /를 붙여서 추가한다는 의미이다
&gt; 위 기존 url 할당법의 /가 없는 예시
```html
&amp;#38;#60;a href=&amp;#34;new/&amp;#34;&amp;#38;#62;새로 게시글 작성하기&amp;#38;#60;/a&amp;#38;#62;

</code></pre></div></div>
<ul>
  <li>
    <p>이렇게 하면 기존의 경로에 추가되는 형식, 이것을 신경 쓰기 힘드므로 변수화 (namespacing)한다.</p>
  </li>
  <li>
    <p>네임 스페이싱을 위해 먼저 해당 앱의 앱 네임을 선언한다</p>
    <blockquote>
      <p>앱네임 선언 예시(urls.py)<br>
```python<br>
from django.urls import path<br>
from . import views</p>
    </blockquote>
  </li>
</ul>

<p>app_name = 'todos' # 일반적으로 앱 이름과 같은 이름을 넣음</p>

<p>urlpatterns = [<br>
    path('', views.index, name="index"),<br>
    path('new/', views.new, name="new"),# 폼 보여주기<br>
    path('create/', views.create, name="create"), # 받은 폼의 정보를 저장하기<br>
    path('&amp;#60;int:id&amp;#62;/delete/', views.delete, name="delete"), # 변수로 이용하면 여기서만 / 신경쓰면 됨<br>
    # 끝에 /를 꼭 붙여주자.<br>
]</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- 이를 해주면 다른 앱에서 url 변수가 겹쳐도 문제가 생기지 않는다.
- 또한 변수화할 path 함수에 name에 변수명을 넣어주면 된다.
&gt; variable routing 이 적용된 namespacing 예시
```html
&amp;#38;#60;a href=&amp;#34;&amp;#123;&amp;#37; url &amp;#39;todos:delete&amp;#39; todo.id &amp;#37;&amp;#125;&amp;#34;&amp;#38;#62;삭제&amp;#38;#60;/a&amp;#38;#62;

</code></pre></div></div>
<ul>
  <li>홑따옴표 쌍따옴표를 번갈아가서 쓰지 않아도 되나, 그러면 python 문법으로 인해 보기 흉해진다.(권장)</li>
  <li>”{% url ‘앱이름:url변수명’ 매개변수1개, 매개변수 2개..%}”를 하이퍼링크로 넣어주면 된다.</li>
  <li>variable routing일 경우 url 변수 넣기 알아보기 (todos의 index.html)
    <h2 id="DTL-django-template-language">DTL (django template language)</h2>
    <p>: jinja랑 문법이 상당히 비슷함</p>
  </li>
</ul>

<blockquote>
  <p>for문 예시<br>
```html<br>
  {% for menu in menus %}<br>
  &amp;#60;li&amp;#62;{{forloop.counter}} : {{menu}}&amp;#60;/li&amp;#62;<br>
  {% empty %}<br>
  &amp;#60;p&amp;#62;리스트가 비어있습니다.&amp;#60;/p&amp;#62;<br>
  {% endfor %}<br>
&amp;#60;!–forloop.counter:for내부에서만 사용가능함 반복 숫자 표시해줌 enumerate 처럼 쓸수 있음, 문장은 {% 사이에 스페이스바로 띄어서 %}, 변수는 {%안띄움%}<br>
{% empty %}는 만약 해당 리스트가 비어있다면 아래 코드가 실행됨–&amp;#62;</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- 만약 리스트의 원소에 인덱스로 접근하고 싶으면 {{변수.인덱스}}로 접근할 수 있다.
- ex) student.0
- forloop + first나 last를 치면 처음 원소나 마지막 원소일때 true를 반환한다.

&gt; 조건문 예시	
```html
  &amp;#38;#60;h3&amp;#38;#62;조건문&amp;#38;#60;/h3&amp;#38;#62;
  &amp;#123;&amp;#37; if &amp;#39;한식&amp;#39; in menus &amp;#37;&amp;#125;
  &amp;#38;#60;p&amp;#38;#62;역시 한국이라면 한식이지&amp;#38;#60;/p&amp;#38;#62;
  &amp;#123;&amp;#37; endif &amp;#37;&amp;#125;

</code></pre></div></div>
<blockquote>
  <p>조건문과 else문, elif문, for문과의 중첩 예시<br>
```html<br>
  {% for menu in menus %}</p>
</blockquote>

<p>&amp;#60;p&amp;#62;{{forloop.counter}}번째 반복문 도는중…&amp;#60;/p&amp;#62;<br>
  {% if '한식' == menu %}<br>
  &amp;#60;p&amp;#62;역시 한국인은 한식이지&amp;#60;/p&amp;#62;<br>
  {% elif '일식' == menu %}<br>
  &amp;#60;p&amp;#62;이것도 불매 운동 해야하나?&amp;#60;/p&amp;#62;<br>
  {% else %}<br>
  &amp;#60;p&amp;#62;{{menu}}&amp;#60;/p&amp;#62;<br>
  {% endif %}<br>
  {% endfor %}</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- DTL 내부에서는 괄호()를 쓸 수 없다.

- 왠만하면 판단은 views에서 먼저 하자

  

1) 함수 안에서 다른 페이지의 폼에서 입력한 데이터 받기 (딕셔너리 형태)

</code></pre></div></div>
<p>request.GET.get('name')</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- queryDict라는 새로운 형식이므로 GET을 통하여 평범한 dict로 만든 뒤, get() 메서드로 받는것

- url에는 _(언더바)를 쓰면 하이퍼링크 적용시 파란 아랫줄 때문에 안보이므로 왠만하면 -(하이픈)을 쓰자

</code></pre></div></div>
<p>&amp;#60;form action="/post-pong/" method="POST"&amp;#62;<br>
{% csrf_toekn %}<br>
&amp;#60;input&amp;#62; 어쩌구 저쩌구	<br>
&amp;#60;/form&amp;#62;</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- method 안넣으면 기본 GET 방식, 대소문자 구분 안함
- POST를 넣으면 좀더 안전하고 CSRF에 대비하므로 csrf_token 필요,
- 이때는 requset.POST.get('name') 방식으로 받아와야함
- {% csrf_token %}을 폼안에 넣어서 토큰 부여 하면 암호화? 같은게 됨
	- csrf_token = 랜덤한 문자열을 생성해줌 type="hidden"이 되어서 랜덤 문자열을 인증해줌

- 이러면 URL에 해당 데이터들이 보이지 않음, 개발자도구 헤더스에서의 formdata에서  확인 가능
- GET은 보내주세요, POST는 처리해주세요 라는 의미
- GET : 서버의 데이터를 변화시키지 않음
- POST : 서버의 데이터를 변화시킴 (대부분의 데이터 이용에 적합)
CSRF : 사이트간 요청 위조 공격,  

##  static 키워드로 파일가져오기, static 하다 : 변화가 없다

&gt; base.html block 설정
```html
&amp;#38;#60;!DOCTYPE html&amp;#38;#62;
&amp;#38;#60;html lang=&amp;#34;en&amp;#34;&amp;#38;#62;
&amp;#38;#60;head&amp;#38;#62;
  &amp;#38;#60;meta charset=&amp;#34;UTF-8&amp;#34;&amp;#38;#62;
  &amp;#38;#60;meta name=&amp;#34;viewport&amp;#34; content=&amp;#34;width=device-width, initial-scale=1.0&amp;#34;&amp;#38;#62;
  &amp;#38;#60;meta http-equiv=&amp;#34;X-UA-Compatible&amp;#34; content=&amp;#34;ie=edge&amp;#34;&amp;#38;#62;
  &amp;#38;#60;title&amp;#38;#62;Document&amp;#38;#60;/title&amp;#38;#62;
&amp;#38;#60;/head&amp;#38;#62;
&amp;#38;#60;body&amp;#38;#62;
&amp;#38;#60;h1&amp;#38;#62;Base is everywhere!&amp;#38;#60;/h1&amp;#38;#62;
&amp;#123;&amp;#37; block body1 &amp;#37;&amp;#125;
&amp;#123;&amp;#37; endblock &amp;#37;&amp;#125;  
&amp;#123;&amp;#37; block body2 &amp;#37;&amp;#125;
&amp;#123;&amp;#37; endblock &amp;#37;&amp;#125;  
&amp;#38;#60;/body&amp;#38;#62;
&amp;#38;#60;/html&amp;#38;#62;

</code></pre></div></div>
<ul>
  <li>파비콘(favicon) : 웹페이지 이름 옆에 있는 작은 아이콘
    <blockquote>
      <p>파비콘 추가 방법<br>
  ```html<br>
  앱 내부에 static 폴더 생성, 그 내부에 파비콘으로 쓸 이미지 파일 추가<br>
  html 파일 맨 위에 맨 위줄에{% load static %} 추가<br>
  html header에 &amp;#60;link rel="icon" href="{% static 'static폴더 내의 파일 이름.파일확장자' %}"&amp;#62; 추가(ico, png 확장자 지원)</p>
    </blockquote>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; static 키워드의 사용과 block 사용
```html
&amp;#123;&amp;#37; extends &amp;#39;base.html&amp;#39; &amp;#37;&amp;#125; # base.html에서 block을 가져온다는 의미 한 파일에 1개만 허용
&amp;#123;&amp;#37; load static &amp;#37;&amp;#125; 
&amp;#38;#60;!--폴더 경로는 앱 내의 static폴더의 css폴더 내부--&amp;#38;#62;
&amp;#123;&amp;#37; block body1 &amp;#37;&amp;#125; # body1 block 가져오기
&amp;#38;#60;link rel=&amp;#34;stylesheet&amp;#34; href=&amp;#34;&amp;#123;&amp;#37; static &amp;#39;css/style.css&amp;#39; &amp;#37;&amp;#125;&amp;#34;&amp;#38;#62;
&amp;#38;#60;h1&amp;#38;#62;본오본오&amp;#38;#60;/h1&amp;#38;#62;
&amp;#38;#60;img src=&amp;#34;&amp;#123;&amp;#37; static &amp;#39;image/feelthethunder.jpeg&amp;#39; &amp;#37;&amp;#125;&amp;#34; alt=&amp;#34;&amp;#34;&amp;#38;#62;
&amp;#123;&amp;#37; endblock &amp;#37;&amp;#125; # body1 block 닫기
&amp;#123;&amp;#37; block body2 &amp;#37;&amp;#125;# body2 block 가져오기
&amp;#123;&amp;#37; endblock &amp;#37;&amp;#125;# base.html에 2개이상 정의햇을 경우

</code></pre></div></div>
<ul>
  <li>장고 문법에서 static은 변하지 않을 정보에 붙여서 가져오는데 쓴다.</li>
  <li>대부분 서버를 껏다 켜야지 변화가 적용됨, 예외도 있음</li>
  <li>load static을 extends 밑에 써서 키워드를 사용할수 있게 가져와야한다.</li>
  <li>보통 관례상 폴더 이름은 static으로 한다.</li>
</ul>

<p>3) 만약 다른 앱에도 같은 URL의 path가 있다면 어떻게 할 것인가?</p>

<blockquote>
  <p>master urls.py, 프로젝트 폴더에 있는 urls.py<br>
```<br>
from django.contrib import admin<br>
from django.urls import path, include # django.urls 패키지에 include 꺼내옴<br>
from pages import views</p>
</blockquote>

<p>path('pages/', include('pages.urls')), # pages 폴더의 서브 urls.py의 url들을 가져온다, include는 해당 폴더의 해당 파일을 가져오는 함수<br>
path('utilities/', include('utilities.urls')), # utilities 폴더의 서브 urls.py의 url들을 가져온다</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; sub urls.py, pages 폴더(앱)안에 있는 urls.py
</code></pre></div></div>
<p>from django.urls import path<br>
from . import views # . 현재 폴더</p>

<p>urlpatterns = [<br>
    path('ping/', views.ping),<br>
    path('pong/', views.pong),<br>
    path('post-ping/', views.post_ping),<br>
    path('post-pong/', views.post_pong),<br>
    path('static-example/', views.static_example),<br>
]</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- 만약 pages의 ping url에 접근하고 싶으면 https://서버 주소/pages/ping/ 으로 접근 가능하다.

- 마스터 urls.py가 pages의 urls.py로 권한과 요청을 넘기는 형식

### SQL ORM
#### DB
- 데이터들의 모임
- 열, 칼럼, 각 열에는 고유한 데이터 형식이 지정됨, 데이터의 속성
- 행, 레코드, 1개의 데이터
- 스키마, 틀 각 열의 요소, 즉  들어갈 데이터의 내용을 정의함
#### ORM(Object-Relational Mapping)
- SQL이 몰라도 파이썬 문법으로 하는 데이터베이스 언어, 파이썬 언어(초안, 청사진)을 SQL 문으로 해석해줌, 중간 번역자

### CRUD

- C: CREATE, 데이터 생성
- R: READ, 데이터 읽기
- U: UPDATE, 데이터 변경
- D: DELETE, 데이터 지우기
- 데이터로 할 수 있는 4가지

#### ORM 사용법과 GIT BASH 명령어
django-admin startapp posts : 앱 생성

&gt; Student 모델 생성 예시 (앱 내부의 models.py)
```python
from django.db import models

# Create your models here.
&amp;#123;: #create-your-models-here&amp;#125;

class Student(models.Model):
# 각각 colum 정의
&amp;#123;: #각각-colum-정의&amp;#125;
    name = models.CharField(max_length=64)
    email = models.CharField(max_length=128) # 할당할 메모리(max_length) 설정
    birthday = models.DateField()
    age = models.IntegerField()

    def __str__(self): # str 오버로딩하면 데이터베이스에 보여줌
        return f&amp;#39;이 학생의 이름은 &amp;#123;self.name&amp;#125;&amp;#39;


</code></pre></div></div>
<ul>
  <li>model을 바꾸면 다시 migrate를 해줘야 업데이트 되며 왠만하면 바꿔주지말자 (기존에 이미 추가된 데이터들이 말썽을 부린다. 보통 다 날리고 다시 만듦 먼저 모델링 하자!)</li>
</ul>

<p>python manage.py makemigrations : 모델의 0001_initial.py 생성 (번역기로 번역 보내기) (일종의 데이터 표의 헤더 만들기)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Migrations for &amp;#39;posts&amp;#39;:
  posts\migrations\0001_initial.py
    - Create model Post
 # 이렇게 뜸
`
</code></pre></div></div>
<p>python manage.py migrate: 파이썬 코드를 SQL 언어로 해석함 (번역본 DB로 보내 명령하기) (일종의 데이터 엑셀 표 만들어 놓기 공간만들기)<br>
python manage.py shell (작은 IDE? exit()로 나감) 에서 만든 클래스를 인스턴스화</p>

<blockquote>
  <p>데이터베이스 데이터 추가 구문<br>
```<br>
post1 = class이름() 또는 post1 = class이름(열요소="내용",열요소2="내용2")</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; 데이터베이스 데이터 추가 및 변경 구문
</code></pre></div></div>
<p>class인스턴스.save()</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>하면 SQL에 해당 인스턴스 저장, 또는 데이터 수정 이후 그 객체는 자신이 설정한만큼 데이터속성을 가짐
&gt; 데이터 삭제 구문
</code></pre></div></div>
<p>class인스턴스.delete() 하면, 해당 데이터 삭제됨</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Post.objects.all() : Post 클래스의 모든 객체를 출력 all(1)하면 QuerySet의 1번째 요소를 가져옴
Post.objects.get() : 1개의 데이터 객체만 가져옴, get()매개변수에 id=1하면 id가 1인 객체, title="내용" 하면 title안에 "내용"인 데이터 객체, 일치하는 객체가 2개 이상 있으면 에러냄
Post.objects.filter() : 괄호안에 조건과 일치하는 모든 데이터를 가져옴 ex) title="hello", 인 모든 객체 가져옴

SQlite 익스텐션 깔고 SQLite explorer에서 클릭하여 데이터베이스를 클릭할 수 있음
django_extensions 패키지 = 알아서 데이터베이스의 정보를 임포트 해옴
id는 지워져도 해당 아이디는 다시 쓰이지 않음,
query= list의 성질과 거의 비슷함

### admin 생성하기
</code></pre></div></div>
<p>python manage.py createsuperuser</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>유저 네임, 이메일 어드레스, 패스워드 입력, 패스워드 확인 후
</code></pre></div></div>
<p>http://서버주소/admin</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>이 곳에서 들어가서 로그인 하면 관리자 페이지로 감

from .models import 대상 모델

```python
# admin.py에서 
admin.site.register(대상 모델)

</code></pre></div></div>
<p>이후 다시 관리자 페이지로 들어가면 대상 데이터 베이스가 올라가 있고, 내용 확인 가능</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">redirect</span>

<span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="o">&amp;</span><span class="c1">#39;/url/&amp;#39;)
# 가고싶은 서버내 웹페이지로 보냄
</span>
</code></pre></div></div>
<p>MODEL.objects.order_by(‘요소’).all() : 해당 요소의 정렬 순으로, 반대로 원할 경우 ‘-요소’로 넣기</p>

<h3 id="QnA-달기">QnA 달기</h3>

<p>foreign key = 댓글이 가지고 있는 외래 아이디, 질문의  id를 가지고 있어서 해당 질문에 속하게 만들 수 있다</p>

<blockquote>
  <p>answer 모델 예시<br>
```<br>
class Answer(models.Model):<br>
    content = models.CharField(max_length=100)<br>
    # CASCADE : question이 사라지면 그 밑에도 모두 지우겠다는 의미<br>
    question = models.ForeignKey(Question, on_delete=models.CASCADE)</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- restfull한 url : 현재 경로와 자원이 표시되어있는 url

&gt; main 페이지
```html
&amp;#123;&amp;#37; extends &amp;#39;base.html&amp;#39; &amp;#37;&amp;#125;
&amp;#123;&amp;#37; block body &amp;#37;&amp;#125;
&amp;#123;&amp;#37; for question in questions &amp;#37;&amp;#125;
&amp;#38;#60;h1&amp;#38;#62;&amp;#123;&amp;#123;question.title&amp;#125;&amp;#125;&amp;#38;#60;/h1&amp;#38;#62;
&amp;#38;#60;p&amp;#38;#62;&amp;#123;&amp;#123;question.user&amp;#125;&amp;#125;&amp;#38;#60;/p&amp;#38;#62;
&amp;#38;#60;p&amp;#38;#62;&amp;#123;&amp;#123;question.content&amp;#125;&amp;#125;&amp;#38;#60;/p&amp;#38;#62;
&amp;#38;#60;form action=&amp;#34;/questions/&amp;#123;&amp;#123;question.id&amp;#125;&amp;#125;/answers/create/&amp;#34;&amp;#38;#62;
  &amp;#38;#60;input type=&amp;#34;text&amp;#34; name=&amp;#34;content&amp;#34;&amp;#38;#62;
  &amp;#38;#60;input type=&amp;#34;submit&amp;#34;&amp;#38;#62;
&amp;#38;#60;/form&amp;#38;#62;
&amp;#123;&amp;#37; for answer in question.answer_set.all &amp;#37;&amp;#125; &amp;#38;#60;!--models.ForeignKey가 만들어준 answer_set 함수, 이를 통해 이 question 모델을 foreignkey로 가지고 있는 모든 answer 모델을 찾아올 수 있다.--&amp;#38;#62;
&amp;#38;#60;p&amp;#38;#62;&amp;#123;&amp;#123;answer.content&amp;#125;&amp;#125;&amp;#38;#60;/p&amp;#38;#62;
&amp;#123;&amp;#37; endfor &amp;#37;&amp;#125;
&amp;#38;#60;hr&amp;#38;#62;
&amp;#123;&amp;#37; endfor &amp;#37;&amp;#125;
&amp;#123;&amp;#37; endblock &amp;#37;&amp;#125;

</code></pre></div></div>
<h2 id="ERD-Entity-Relationship-Diagram">ERD ( Entity Relationship Diagram)</h2>
<p>vscode = U 아직 깃에 안올라갔다. M : 무언가 바뀌었다. A: add 됬다.<br>
git add (올릴파일이나 폴더)<br>
git status (commit한 상태 보기)<br>
git restore –staged (add 취소할 파일)<br>
Nosql :</p>

<h2 id="if-문을-이용한-restfull한-웹코딩">if 문을 이용한 restfull한 웹코딩</h2>
<blockquote>
  <p>urls.py<br>
```python<br>
…<br>
path('add/', views.add, name="add" ), # if 분기로 하나의 경로로 2가지 방식의 일을 처리(중요)<br>
path('&amp;#60;int:id&amp;#62;/update/', views.update, name="update"),</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; restfull code 예시 (create와 new path를 합친 add path)
```python
def add(request): # if 분기로 하나의 경로로 2가지 방식의 일을 처리, form에 action=&amp;#39;&amp;#39;이면 자기자리로 돌아가는 것을 이용(restfull한 코드))(중요)
    if request.method == &amp;#34;POST&amp;#34;: # method가 post로 보내지면 create로     
        author = request.POST.get(&amp;#39;author&amp;#39;)
        title = request.POST.get(&amp;#39;title&amp;#39;) # url로 보내는 것은 무조건 get 방식 
        content = request.POST.get(&amp;#39;content&amp;#39;)
        due_date = request.POST.get(&amp;#39;due-date&amp;#39;)   
        todo = Todo.objects.create(author=author, title=title, content=content, due_date=due_date)

        return redirect(&amp;#39;todos:index&amp;#39;) # /있으면 루트주소에 추가, 없으면 현재 주소 앞에 추가
    else:   # Get방식이면 데이터를 form으로 받는 new로
        return render(request, &amp;#39;add.html&amp;#39;)

</code></pre></div></div>
<ul>
  <li>django는 보내는 method로 delete와 put은 지원 안함(HTTP5도 지원 안함)</li>
  <li>다른 프레임워크에서 일단 post로 보내고 delete put을 넣을 때는 input type= hidden에  name=’_method’, value=”DELETE” 로 숨겨서 보냄 (HTTP5가 지원 안하므로)</li>
  <li>restfull한 코딩을 하려면 주소창에 동사는 빼고 명사로만 쓰며, 동사는 method 방법을 바꿔서 해결</li>
  <li>다른 프레임 워크는 http verb라는 개념도 있다.
    <blockquote>
      <p>add.html<br>
```html<br>
{% extends 'base.html' %}</p>
    </blockquote>
  </li>
</ul>

<p>{% block body %}<br>
&amp;#60;form action="" method="POST"&amp;#62; <br>
  {% csrf_token %}<br>
  작성자 : &amp;#60;input type="text" name="author"&amp;#62;<br>
  제목 : &amp;#60;input type="text" name="title"&amp;#62;<br>
  내용 : &amp;#60;input type="text" name="content"&amp;#62;<br>
  마감일 : &amp;#60;input type="date" name="due-date"&amp;#62;<br>
  &amp;#60;input type="submit" value="저장"&amp;#62;<br>
&amp;#60;/form&amp;#62;<br>
{% endblock %}<br>
&amp;#60;!–먄약 기본값 value를 정하고 싶으면 &amp;#60;input type="date" name="due-date" value="{{todo.due_date|date:'Y-m-d'}}"&amp;#62; 이런식으로 –&amp;#62;</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- post, get 방식을 이용해 이 폼(add.html) 하나를 수정할 때 쓰는 폼으로도 사용할 수 있다.
## django 이미지 업로딩과 이미지 리사이징
### 이미지 보여주기
1. 위 static 부분의 favicon 부분 참조
#### fontawesome 이용하기
1. 먼저 fontawesome 홈페이지에가서 로그인한다.
2. 키를 발급받고 script를 html 폴더의 header안에 넣는다.
```html
&amp;#38;#60;script src=&amp;#34;https://kit.fontawesome.com/e87731a046.js&amp;#34; crossorigin=&amp;#34;anonymous&amp;#34;&amp;#38;#62;&amp;#38;#60;/script&amp;#38;#62;

</code></pre></div></div>
<ol>
  <li>원하는 곳에 원하는 아이콘 태그를 삽입한다.<br>
```html<br>
&amp;#60;i class="fas fa-chess-knight"&amp;#62;</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>### 이미지 업로딩
1. 먼저 앱 내부의 models.py에서 데이터베이스 모델을 만든다.
&gt; models.py 파일
```python
from django.db import models

# Create your models here.
class Feed(models.Model):
    content = models.CharField(max_length=150); 
    created_at = models.DateTimeField(auto_now_add=True) # 자동으로 현재 날짜 입력
    image = models.ImageField() 

</code></pre></div></div>
<p>-이를 makemigrations하려하면 다음과 같은 오류가 뜰 수 도 있다.<br>
```git bash<br>
You are trying to add a non-nullable field ‘img’ to todo without a default; we can’t do that (the database<br>
needs something to populate existing rows).<br>
Please select a fix:<br>
 1) Provide a one-off default now (will be set on all existing rows with a null value for this column)<br>
 2) Quit, and let me add a default in models.py<br>
Select an option:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- 이 때는 db에서 해당 모델을 날리고 다시 makemigrations하면 된다. 앱 내부의 migrations 폴더 내부의 (ex)0001_initial.py)
1) 
2. 
### 이미지 리사이징

인스톨 필요한 패키지 : django-imagekit, Pillow, IPython



## django form을 이용한 자동 폼 생성
### django form 선언
#### models.py
```python
from django.db import models

# Create your models here.
class Movie(models.Model):
    title = models.CharField(max_length=50)
    title_en = models.CharField(max_length=50)
    audience = models.IntegerField()
    open_date = models.DateField()
    genre = models.CharField(max_length=50)
    watch_grade = models.CharField(max_length=50)
    score = models.FloatField()   
    poster_url = models.TextField()
    description = models.TextField()

class Comment(models.Model):
    content = models.TextField()
    movie = models.ForeignKey(Movie,on_delete=models.CASCADE)
    class Meta:
        ordering = (&amp;#39;-id&amp;#39;,) # 정렬을 id의 역순(-)으로 출력 , ,꼭 필요

</code></pre></div></div>
<h4 id="form-py">form.py</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">forms</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Movie</span><span class="p">,</span> <span class="n">Comment</span>

<span class="k">class</span> <span class="nc">MovieForm</span><span class="p">(</span><span class="n">forms</span><span class="p">.</span><span class="n">Form</span><span class="p">):</span> <span class="c1"># forms.Form 상속
</span>    <span class="n">title</span> <span class="o">=</span> <span class="n">forms</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
    <span class="n">title_en</span> <span class="o">=</span> <span class="n">forms</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span>
                    <span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
                    <span class="n">label</span><span class="o">=&amp;</span><span class="c1">#34;영문 제목&amp;#34;, # 기본값에서 원하는 라벨이름 바꿔줌
</span>                    <span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="p">.</span><span class="n">TextInput</span><span class="p">(</span>
                        <span class="n">attrs</span><span class="o">=&amp;</span><span class="c1">#123;
</span>                            <span class="o">&amp;</span><span class="c1">#39;placeholder&amp;#39;: &amp;#39;영문제목을 입력해주세요&amp;#39;,
</span>                        <span class="o">&amp;</span><span class="c1">#125;
</span>                    <span class="p">)</span>
                <span class="p">)</span>
    <span class="n">audience</span> <span class="o">=</span> <span class="n">forms</span><span class="p">.</span><span class="n">IntegerField</span><span class="p">()</span>
    <span class="n">open_date</span> <span class="o">=</span> <span class="n">forms</span><span class="p">.</span><span class="n">DateField</span><span class="p">(</span><span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="p">.</span><span class="n">DateInput</span><span class="p">(</span><span class="n">attrs</span><span class="o">=&amp;</span><span class="c1">#123;&amp;#39;type&amp;#39;:&amp;#39;date&amp;#39;&amp;#125;))
</span>    <span class="n">genre</span> <span class="o">=</span> <span class="n">forms</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
    <span class="n">watch_grade</span> <span class="o">=</span> <span class="n">forms</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
    <span class="n">score</span> <span class="o">=</span> <span class="n">forms</span><span class="p">.</span><span class="n">FloatField</span><span class="p">()</span>   
    <span class="n">poster_url</span> <span class="o">=</span> <span class="n">forms</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="p">.</span><span class="n">Textarea</span><span class="p">)</span> <span class="c1"># textarea로 바꿔줌, django가 charfield를 기본으로 잡고 있어서 이거 써야함
</span>    <span class="n">description</span> <span class="o">=</span> <span class="n">forms</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="p">.</span><span class="n">Textarea</span><span class="p">)</span>
    <span class="c1"># widget: 여러가지 커스터마이징을 하게 해줌 attrs, html tag에 값을 추가해줌
</span>
<span class="k">class</span> <span class="nc">MovieModelForm</span><span class="p">(</span><span class="n">forms</span><span class="p">.</span><span class="n">ModelForm</span><span class="p">):</span> <span class="c1"># Model에 관계있는 Form으로 상속, 자동으로 모델 내부의 column 만큼 폼을 만들어줌
</span>    <span class="n">open_date</span> <span class="o">=</span> <span class="n">forms</span><span class="p">.</span><span class="n">DateField</span><span class="p">(</span><span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="p">.</span><span class="n">DateInput</span><span class="p">(</span><span class="n">attrs</span><span class="o">=&amp;</span><span class="c1">#123;&amp;#39;type&amp;#39;:&amp;#39;date&amp;#39;&amp;#125;)) # 이런 방법으로 일부는 다른 방식으로 만들어낼 수 있음 오버라이딩?    
</span>    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span> <span class="c1"># 속성으로 만들면 column으로 인지하므로 class 객체로 만들어야 함
</span>        <span class="n">model</span> <span class="o">=</span> <span class="n">Movie</span> <span class="c1"># 모델 입력
</span>        <span class="n">fields</span> <span class="o">=</span> <span class="o">&amp;</span><span class="c1">#39;__all__&amp;#39; # 전부
</span>
<span class="k">class</span> <span class="nc">CommentModelForm</span><span class="p">(</span><span class="n">forms</span><span class="p">.</span><span class="n">ModelForm</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Comment</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="o">&amp;</span><span class="c1">#39;content&amp;#39;,) # 출력할 부분만 tuple로 넣어주면 됨, 끝에 &amp;#39;,&amp;#39; 무조건 넣어야함
</span>
</code></pre></div></div>
<ul>
  <li>이것을 이용하여 form을 자동 생성할 수 있다.</li>
  <li>ModelForm을 이용하면 form input 요소 또한 자동으로 만들어 준다.
    <h3 id="django-form-이용">django form 이용</h3>
    <h4 id="form-html">form.html</h4>
    <p>```html<br>
{% extends 'base.html' %}<br>
{% load bootstrap4 %}<br>
{% block body %}<br>
{% if request.resolver_match.url_name  == "create_model_form" %} {% comment %} 현재 사이트로 정보를 보낸 views.py에서 정의한 함수 이름을 가져옴 {% endcomment%}<br>
  &amp;#60;h1&amp;#62;Create&amp;#60;/h1&amp;#62;<br>
{% else %}<br>
  &amp;#60;h1&amp;#62;Update&amp;#60;/h1&amp;#62;<br>
{% endif %}<br>
&amp;#60;form action="" method="POST"&amp;#62;<br>
  {% csrf_token %}<br>
  {% bootstrap_form form %}<br>
  {% buttons submit="제출" %}<br>
  {% endbuttons %}</p>

    <p>{% comment %}<br>
  # html {{form.as_p}}하면 p태그로 묶여서 출력됨<br>
  # as_ul 하면 ul 태그로 묶여서 출력됨<br>
  # as_table * table 태그안에 넣으면 * 테이블 형태로 출력<br>
  # {{form.title.label_tag}} 하면 해당 요소 이름의 label이 생김</p>

    <p>&amp;#60;table&amp;#62;      <br>
    {{form.as_table}}<br>
  &amp;#60;/table&amp;#62;<br>
  &amp;#60;input type="submit"&amp;#62;<br>
  {% endcomment %}</p>

    <p>&amp;#60;/form&amp;#62;<br>
  {% endblock %}</p>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#### base.html
```python
&amp;#123;&amp;#37; load bootstrap4 &amp;#37;&amp;#125; &amp;#123;&amp;#37; comment &amp;#37;&amp;#125; 현재 페이지에서만 동작함 다른 block은 extends 아래 block위에서 할 것 &amp;#123;&amp;#37; endcomment&amp;#37;&amp;#125;
&amp;#38;#60;!DOCTYPE html&amp;#38;#62;
&amp;#38;#60;html lang=&amp;#34;ko&amp;#34;&amp;#38;#62;
&amp;#38;#60;head&amp;#38;#62;
  &amp;#38;#60;meta charset=&amp;#34;UTF-8&amp;#34;&amp;#38;#62;
  &amp;#38;#60;meta name=&amp;#34;viewport&amp;#34; content=&amp;#34;width=device-width, initial-scale=1.0&amp;#34;&amp;#38;#62;
  &amp;#38;#60;meta http-equiv=&amp;#34;X-UA-Compatible&amp;#34; content=&amp;#34;ie=edge&amp;#34;&amp;#38;#62;
  &amp;#38;#60;title&amp;#38;#62;formmovie&amp;#38;#60;/title&amp;#38;#62;
  &amp;#123;&amp;#37; bootstrap_css &amp;#37;&amp;#125;
&amp;#38;#60;/head&amp;#38;#62;
&amp;#38;#60;body&amp;#38;#62;
  &amp;#38;#60;a href=&amp;#34;&amp;#123;&amp;#37; url &amp;#39;movies:index&amp;#39; &amp;#37;&amp;#125;&amp;#34;&amp;#38;#62;홈&amp;#38;#60;/a&amp;#38;#62;
  &amp;#38;#60;a href=&amp;#34;&amp;#123;&amp;#37; url &amp;#39;movies:create&amp;#39; &amp;#37;&amp;#125;&amp;#34;&amp;#38;#62;글쓰기&amp;#38;#60;/a&amp;#38;#62;
  &amp;#38;#60;a href=&amp;#34;&amp;#123;&amp;#37; url &amp;#39;movies:create_model_form&amp;#39; &amp;#37;&amp;#125;&amp;#34;&amp;#38;#62;글쓰기(모델폼)&amp;#38;#60;/a&amp;#38;#62;
  &amp;#38;#60;div class=&amp;#34;container&amp;#34;&amp;#38;#62;

    &amp;#123;&amp;#37; block body &amp;#37;&amp;#125;
    &amp;#123;&amp;#37; endblock &amp;#37;&amp;#125;
  &amp;#38;#60;/div&amp;#38;#62;
  &amp;#123;&amp;#37; bootstrap_javascript jquery=&amp;#39;full&amp;#39; &amp;#37;&amp;#125;
&amp;#38;#60;/body&amp;#38;#62;
&amp;#38;#60;/html&amp;#38;#62;

</code></pre></div></div>
<ul>
  <li>pip install django-bootstrap4 이후, settings.py의 INSTALLED_APPS에 ‘bootstrap4’,를 추가하고, {% load bootstrap4 %}를 추가하여 사용한다.</li>
  <li>이외에도 {% bootstrap_javascript jquery=’full’ %}, {% bootstrap_css %}를 각각 body와 header에 추가하여야 한다.</li>
  <li>{% comment %} 를 이용하면 DTL이 무시하는 주석을 달 수 있다.{% endcomment%}
    <h4 id="detail-html">detail.html</h4>
    <p>```python<br>
{% extends 'base.html' %}<br>
{% load bootstrap4 %}<br>
{% block body %}<br>
&amp;#60;br&amp;#62;<br>
{{movie.title}}<br>
{{movie.title_en}}<br>
{{movie.audience}}<br>
{{movie.open_date}}<br>
{{movie.poster_url}}<br>
&amp;#60;form action="{% url 'movies:delete' movie.id %}" method="POST"&amp;#62;<br>
{% csrf_token %}<br>
&amp;#60;input type="submit" value="삭제(post)"&amp;#62;<br>
&amp;#60;/form&amp;#62;<br>
{% comment %}<br>
&amp;#60;a href="{% url 'movies:delete' movie.id %}"&amp;#62;삭제해라 애송이&amp;#60;/a&amp;#62;<br>
요것은 주석 다는방법<br>
{% endcomment %}<br>
&amp;#60;a href="{% url 'movies:update' movie.id %}"&amp;#62;수정&amp;#60;/a&amp;#62;<br>
&amp;#60;a href="{% url 'movies:update_model_form' movie.id %}"&amp;#62;수정(모델폼)&amp;#60;/a&amp;#62;<br>
{% for comment in movie.comment_set.all %}<br>
{{comment.content}}<br>
&amp;#60;a href="{% url 'movies:comment_delete' movie.id comment.id %}"&amp;#62;삭제&amp;#60;/a&amp;#62;<br>
&amp;#60;br&amp;#62;<br>
{% endfor %}<br>
&amp;#60;form action="{% url 'movies:comment_create' movie.id %}" method="POST"&amp;#62;<br>
{% csrf_token %}<br>
{% bootstrap_form comment_form %} <br>
{% comment %}<br>
forms.py에서 field=(content,) 도 가능하지만<br>
이방법도 됨<br>
{% bootstrap_form comment_form exclude='movie'%}<br>
{% endcomment %}<br>
{% buttons submit="제출" %}<br>
{% endbuttons %}<br>
&amp;#60;/form&amp;#62;<br>
{% endblock %}</p>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#### views.py
```python
from django.shortcuts import render, redirect, get_object_or_404
from .forms import MovieForm, MovieModelForm, CommentModelForm
from IPython import embed # 웹 디버깅용
from .models import Movie, Comment
# Create your views here.
def index(request):
    movies = Movie.objects.all().order_by(&amp;#39;-id&amp;#39;) # all() 생략가능
    context = &amp;#123;
        &amp;#39;movies&amp;#39;: movies
    &amp;#125;
    return render(request, &amp;#39;index.html&amp;#39;, context)

def create(request):
    if request.method == &amp;#34;POST&amp;#34;:
        form = MovieForm(request.POST)       
        if form.is_valid(): # 백엔드에서 한번 더 검증
            movie = Movie() # form.cleaned_data : 검증이 완료, 가공이 완료된 데이터 (앞의 빈공간을 지우는 등의 행동)
            movie.title = form.cleaned_data.get(&amp;#39;title&amp;#39;)
            movie.title_en = form.cleaned_data.get(&amp;#39;title_en&amp;#39;)
            movie.audience = form.cleaned_data.get(&amp;#39;audience&amp;#39;)
            movie.open_date = form.cleaned_data.get(&amp;#39;open_date&amp;#39;)
            movie.genre = form.cleaned_data.get(&amp;#39;genre&amp;#39;)
            movie.watch_grade = form.cleaned_data.get(&amp;#39;watch_grade&amp;#39;)
            movie.score = form.cleaned_data.get(&amp;#39;score&amp;#39;) 
            movie.poster_url = form.cleaned_data.get(&amp;#39;poster_url&amp;#39;)
            movie.description = form.cleaned_data.get(&amp;#39;title_en&amp;#39;)
            movie.save()
            return redirect(&amp;#39;movies:index&amp;#39;)
    else:
        form = MovieForm()
    context = &amp;#123;
        &amp;#39;form&amp;#39; : form
    &amp;#125;
    return render(request, &amp;#39;form.html&amp;#39;, context)

def detail(request, id):
    # movie = Movie.objects.get(id=id)
    movie = get_object_or_404(Movie, id=id) # 잘못된 접근이면 404 에러를 뜨게 해줌
    comment_form = CommentModelForm()

    context = &amp;#123;
        &amp;#39;movie&amp;#39;: movie,
        &amp;#39;comment_form&amp;#39;: comment_form,
    &amp;#125;
    return render(request, &amp;#39;detail.html&amp;#39;, context)

def delete(request, id):
    movie = get_object_or_404(Movie, id=id)

    if request.method == &amp;#34;POST&amp;#34;: # POST 요청일 시에만 삭제가 가능하도록 만듦 (즉 url을 통한 접근이 아닌 정상적인 접근일시)
        movie.delete()
        return redirect(&amp;#34;movies:index&amp;#34;)
    else:
        return redirect(&amp;#34;movies:detail&amp;#34;, id)

def update(request, id):
    movie = get_object_or_404(Movie, id=id)
    if request.method == &amp;#34;POST&amp;#34;:
        form = MovieForm(request.POST)
        if form.is_valid():
            movie.title = form.cleaned_data.get(&amp;#39;title&amp;#39;)
            movie.title_en = form.cleaned_data.get(&amp;#39;title_en&amp;#39;)
            movie.audience = form.cleaned_data.get(&amp;#39;audience&amp;#39;)
            movie.open_date = form.cleaned_data.get(&amp;#39;open_date&amp;#39;)
            movie.genre = form.cleaned_data.get(&amp;#39;genre&amp;#39;)
            movie.watch_grade = form.cleaned_data.get(&amp;#39;watch_grade&amp;#39;)
            movie.score = form.cleaned_data.get(&amp;#39;score&amp;#39;) 
            movie.poster_url = form.cleaned_data.get(&amp;#39;poster_url&amp;#39;)
            movie.description = form.cleaned_data.get(&amp;#39;title_en&amp;#39;)
            movie.save()
            return redirect(&amp;#39;movies:detail&amp;#39;, id)
    else:
        form = MovieForm(initial=movie.__dict__) # initial과 해당 객체의 __dict__를 이용해 기존 데이터를 가져올 수 있음
    context = &amp;#123;
        &amp;#39;form&amp;#39;: form,
    &amp;#125;
    return render(request, &amp;#39;form.html&amp;#39;, context)

def create_model_form(request):
    if request.method == &amp;#34;POST&amp;#34;:        
        form = MovieModelForm(request.POST)
        if form.is_valid():
            movie = form.save() # form.save()는 movie 객체를 리턴한다.
            return redirect(&amp;#39;movies:detail&amp;#39;, movie.id)
    else:
        form = MovieModelForm()
    context = &amp;#123;
        &amp;#39;form&amp;#39;: form
    &amp;#125;
    return render(request, &amp;#39;form.html&amp;#39;, context)

def update_model_form(request, id):
    movie = get_object_or_404(Movie, id=id) # Movie 모델의 id값이 id인 객체를 가져와라
    if request.method == &amp;#34;POST&amp;#34;:
        form = MovieModelForm(request.POST, instance=movie) # 이런 방법으로 과거의 정보와 수정된 이후의 정보도 가져올 수 있음
        if form.is_valid(): # 이를 통해 그 두가지 정보를 검증할 수 있음
            form.save()
            return redirect(&amp;#39;movies:detail&amp;#39;, id)
    else:
        form = MovieModelForm(instance = movie) # modelForm을 상속 받은 form은 instanace로 해야함

    context = &amp;#123;
        &amp;#39;form&amp;#39;: form
    &amp;#125;
    return render(request, &amp;#39;form.html&amp;#39;, context)

def comment_create(request, movie_id):
    movie = get_object_or_404(Movie, id=movie_id)
    if request.method == &amp;#34;POST&amp;#34;:
        form = CommentModelForm(request.POST)
        if form.is_valid():
            comment = form.save(commit=False) # 바로 save하지 않고 기다림
            comment.movie = movie # movie 정보 주입
            comment.save() # save함
            return redirect(&amp;#39;movies:detail&amp;#39;, movie_id)
        else:
            return redirect(&amp;#39;movies:detail&amp;#39;, movie_id)
    else:
        return redirect(&amp;#39;movies:detail&amp;#39;, movie_id)

def comment_delete(request, movie_id, comment_id):
    comment = Comment.objects.get(id=comment_id)
    comment.delete()
    return redirect(&amp;#39;movies:detail&amp;#39;, movie_id)

#

</code></pre></div></div>
<ul>
  <li>POST 접근과 GET 접근의 차이를 이용하여 valid한 접근 구별가능</li>
  <li>Form을 이용하여 update구현</li>
</ul>
</body></html>
</div>

  </div><a class="u-url" href="/articles/web/backend/Django/Django%20%EA%B8%B0%EB%B3%B8.html" hidden></a>
  <p class="u-path" hidden>_articles/web/backend/Django/Django 기본.md</p>
  <script type="module" src="/assets/scripts/utils/update_recents.js"></script>
</article>

    </div>
  </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">🧠SUBBRAIN</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="a-name">🧠SUBBRAIN</li><li><a class="u-email" href="mailto:roadvirushn@gmail.com">roadvirushn@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li>
    <a href="https://github.com/RoadVirusHN"><svg class="svg-icon">
        <use xlink:href="/assets/svg/social-icons.svg#github"></use>
      </svg>
      <span class="username">RoadVirusHN</span></a>
  </li><!---->
</ul></div>

      <div class="footer-col footer-col-3">
        <p>이것이 디지털 동물의 숲이다!! 파멸편 (This is the Digital Animal Crossing!! Bad Ending.01)</p>
      </div>
    </div>

  </div>

</footer>
</body>

<script src="/assets/scripts/bundle/common.bundle.js"></script>

</html>
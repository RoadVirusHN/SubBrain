(()=>{"use strict";function e(e,n){var t;const o=document.createElement("style");o.id=e;const i=e+Math.random().toString(16).slice(2),r=n.offsetHeight;o.innerHTML=`        div#${e} div.card.animate-expand {\n          animation: expand-card-${i} 0.2s ease-out;\n        }\n        div#${e} div.card.animate-shirink {\n          animation: shirink-card-${i} 0.2s ease-out;\n        }\n        @keyframes expand-card-${i}         { 0% { max-height: 0px; } 100% { max-height: ${r+10}px; }}\n        @keyframes shirink-card-${i}        { 0% { max-height: ${r+10}px; } 100% { max-height: 0px; }}\n        `,null===(t=document.querySelector("article.post"))||void 0===t||t.appendChild(o)}function n(e){var n;const t=e.target,o=null===(n=t.parentElement)||void 0===n?void 0:n.nextElementSibling;"none"===o.style.display?(function(e){e.style.overflow="hidden",e.style.display="block",e.classList.add("animate-expand"),e.addEventListener("animationend",(function n(){e.classList.remove("animate-expand"),e.removeEventListener("animationend",n),e.style.overflow="visible"}))}(o),t.innerText="ðŸ”¼"):(function(e){e.classList.add("animate-shirink"),e.style.overflow="hidden",e.addEventListener("animationend",(function n(){e.classList.remove("animate-shirink"),e.removeEventListener("animationend",n),e.style.display="none"}))}(o),t.innerText="ðŸ”½")}function t(e){var n,t;const o=e.target,i=null===(n=o.parentElement)||void 0===n?void 0:n.children.namedItem("content");(()=>{var e,n,t,o;e=this,n=void 0,o=function*(){yield navigator.clipboard.writeText(i.innerText)},new((t=void 0)||(t=Promise))((function(i,r){function l(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(l,a)}c((o=o.apply(e,n||[])).next())}))})();const r=null===(t=o.parentElement)||void 0===t?void 0:t.querySelectorAll(".copy-check:not(.animate)");void 0!==r&&function(e){for(const n of e)n.classList.add("animate"),n.addEventListener("animationend",(()=>{n.classList.remove("animate")}))}(r)}function o(e){return new IntersectionObserver(e,{root:null,rootMargin:"0px",threshold:[.95,.05]})}function i(e,n){const t=window.innerWidth/2,o=window.innerHeight/2;e.forEach((e=>{var n,i;if(e.isIntersecting){const r=e.target,l=r.getBoundingClientRect(),a=null===(n=r.parentElement)||void 0===n?void 0:n.querySelector("a"),c=l.width-e.intersectionRect.width;let[d,s,u]=null!==(i=r.style.transform.match(/translate\(calc\(50% \+ (-?\d*.?\d*)px\), (.*?\)?)\)/))&&void 0!==i?i:["","0","-100%"];const m=l.width/e.intersectionRect.width,v=l.height/e.intersectionRect.height;m>1.02&&(l.left>t?s=""+(Number(s)-c):l.left<t&&(s=`${Number(s)+c}`)),v>1.02&&(u=l.top<o?`calc(-100% + ${a.getBoundingClientRect().height}px)`:"0%"),r.style.transform=`translate(calc(50% + ${s}px), ${u})`}}))}window.innerWidth;const r=window.innerHeight/2;function l(e,n){e.forEach((e=>{const n=e.target,t=n.parentElement;if(null==t)throw Error("no wrapper!");const o=t.querySelector("a");if(null==o)throw Error("no aTag!");const i=o.getBoundingClientRect();e.isIntersecting&&(i.top>r?n.style.transform=`translate(-50%, calc(-100% - ${o.getBoundingClientRect().height}px))`:n.style.transform="translate(-50% , 0%)")}))}let a,c,d,s,u,m=!1;const v=window.outerHeight-document.documentElement.clientHeight;function h(e){a.classList.add("no-animation"),c.classList.add("no-animation"),m=!0;const n=f(e);a.tabIndex=-1,a.style.outline="none",a.focus(),E(n),y(n)}function f(e){return e.preventDefault(),Math.min(window.innerHeight,e.screenY-v)/window.innerHeight*97}function p(e){a.classList.remove("no-animation"),c.classList.remove("no-animation"),m=!1,document.activeElement===a&&document.activeElement.blur()}function g(e){if(m){const n=f(e);E(n),y(n)}}function y(e){const n=e*(s.getBoundingClientRect().height-document.documentElement.clientHeight)/97;window.scrollTo(0,n)}function w(e){E(-s.getBoundingClientRect().top/(s.getBoundingClientRect().height-document.documentElement.clientHeight)*97)}function E(e){e<0?(c.style.height="0%",a.style.top="0%"):(c.style.height=`${e}%`,a.style.top=`${e}%`)}window.addEventListener("load",(()=>{!function(){const o=document.querySelectorAll(".callout");for(const i of o){const o=i.querySelector("button.collapse");if(null===o)continue;const r=i.id,l=i.querySelector(".card");if(null===l||void 0===r)throw new Error(`No card in ${null!=r?r:""} here`);const a=l.querySelector(".copy");e(r,l),l.style.display="ðŸ”¼"===o.innerText?"block":"none",o.addEventListener("click",n),a.addEventListener("click",t)}}(),function(){var e,n,t;const i=o(l),r=document.querySelectorAll(".wikilink:not(.externallink)");for(let o=0;o<r.length;o++){const l=r[o].nextElementSibling;if(r[o].addEventListener("mouseover",(e=>{e.preventDefault(),l.style.display="block"})),window.location===window.parent.location)l.addEventListener("load",(e=>{var n;const t=null===(n=e.target.contentWindow)||void 0===n?void 0:n.document.querySelector("body"),o=t.querySelector("header"),r=t.querySelector("footer");t.removeChild(o),t.removeChild(r),i.observe(l)})),l.src=null!==(e=l.dataset.href)&&void 0!==e?e:"#";else if(null!==l){null===(n=r[o].parentElement)||void 0===n||n.removeChild(l);const e=document.createElement("span");e.style.color="white",e.style.backgroundColor="grey",e.innerText="netsted iframe cannot render page! visit this page!",null===(t=r[o].parentElement)||void 0===t||t.appendChild(e)}}}(),function(){var e;const n=o(i),t=document.querySelectorAll(".wikilink.externallink");for(let o=0;o<t.length;o++){const i=t[o].nextElementSibling,r=null===(e=t[o].parentElement)||void 0===e?void 0:e.parentElement,l=t[o];l.addEventListener("click",(e=>{e.preventDefault(),i.style.display="block"})),l.addEventListener("mouseover",(e=>{r.style.whiteSpace="nowrap"})),r.addEventListener("mouseleave",(e=>{r.style.whiteSpace="normal"})),null!==i&&(window.location!==window.parent.location&&(i.innerHTML='<div style="background-color: grey; color: white;">nested iframe cannot access external link! visit this page!</div>'),n.observe(i))}}(),a=document.querySelector(".scrollbarButton"),c=document.querySelector(".progressbar"),d=document.querySelector(".scrollbar"),u=document.querySelector(".scrollWrapper"),s=document.querySelector("body"),document.addEventListener("scroll",w),u.addEventListener("mousedown",h),document.addEventListener("mousemove",g),document.addEventListener("mouseup",p)})),window.toggleCard={}.default})();
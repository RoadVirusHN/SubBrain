(()=>{"use strict";function e(e,n){var t;const o=document.createElement("style");o.id=e;const i=e+Math.random().toString(16).slice(2),r=n.offsetHeight;o.innerHTML=`        div#${e} div.card.animate-expand {\n          animation: expand-card-${i} 0.2s ease-out;\n        }\n        div#${e} div.card.animate-shirink {\n          animation: shirink-card-${i} 0.2s ease-out;\n        }\n        @keyframes expand-card-${i}         { 0% { max-height: 0px; } 100% { max-height: ${r+10}px; }}\n        @keyframes shirink-card-${i}        { 0% { max-height: ${r+10}px; } 100% { max-height: 0px; }}\n        `,null===(t=document.querySelector("article.post"))||void 0===t||t.appendChild(o)}function n(e){return new IntersectionObserver(e,{root:null,rootMargin:"0px",threshold:[.95,.05]})}function t(e,n){const t=window.innerWidth/2,o=window.innerHeight/2;e.forEach((e=>{const n=e.target,i=n.getBoundingClientRect();if(e.isIntersecting){const r=n.offsetWidth-e.intersectionRect.width;i.left>t?n.style.marginRight=6*r+"px":i.left<t&&(n.style.marginLeft=6*r+"px"),i.top<o?n.style.bottom="-380%":n.style.bottom="100%"}}))}window.innerWidth;const o=window.innerHeight/2;function i(e,n){e.forEach((e=>{const n=e.target,t=n.parentElement;if(null==t)throw Error("no wrapper!");const i=t.querySelector("a");if(null==i)throw Error("no aTag!");const r=i.getBoundingClientRect();e.isIntersecting&&(r.top>o?n.style.transform=`translate(-50%, calc(-100% - ${t.offsetHeight}px))`:n.style.transform="translate(-50% , 0%)")}))}window.toggleCard=function(e){var n;const t=e.target,o=null===(n=t.parentElement)||void 0===n?void 0:n.nextElementSibling;"none"===o.style.display?(function(e){e.style.overflow="hidden",e.style.display="block",e.classList.add("animate-expand"),console.log(e),e.addEventListener("animationend",(function n(){e.classList.remove("animate-expand"),e.removeEventListener("animationend",n),console.log(e),e.style.overflow="visible"}))}(o),t.innerText="ðŸ”¼"):(function(e){e.classList.add("animate-shirink"),e.style.overflow="hidden",e.addEventListener("animationend",(function n(){e.classList.remove("animate-shirink"),e.removeEventListener("animationend",n),e.style.display="none"}))}(o),t.innerText="ðŸ”½")},window.copyContent=function(e){var n,t,o,i,r,l;return o=this,i=void 0,l=function*(){const o=e.target,i=null===(n=o.parentElement)||void 0===n?void 0:n.children.namedItem("content");yield navigator.clipboard.writeText(i.innerText);const r=null===(t=o.parentElement)||void 0===t?void 0:t.querySelectorAll(".copy-check:not(.animate)");void 0!==r&&function(e){for(const n of e)n.classList.add("animate"),n.addEventListener("animationend",(()=>{n.classList.remove("animate")}))}(r)},new((r=void 0)||(r=Promise))((function(e,n){function t(e){try{c(l.next(e))}catch(e){n(e)}}function a(e){try{c(l.throw(e))}catch(e){n(e)}}function c(n){var o;n.done?e(n.value):(o=n.value,o instanceof r?o:new r((function(e){e(o)}))).then(t,a)}c((l=l.apply(o,i||[])).next())}))},window.addEventListener("load",(()=>{!function(){const n=document.querySelectorAll(".callout");for(const t of n){const n=t.querySelector("button.collapse");if(null===n)continue;const o=t.id,i=t.querySelector(".card");if(null===i||void 0===o)throw new Error(`No card in ${null!=o?o:""} here`);e(o,i),i.style.display="ðŸ”¼"===n.innerText?"block":"none"}}(),function(){var e,t,o;const r=n(i),l=document.querySelectorAll(".wikilink:not(.externallink)");for(let n=0;n<l.length;n++){const i=l[n].nextElementSibling;if(window.location===window.parent.location)i.style.display="block",i.addEventListener("load",(e=>{var n;const t=null===(n=e.target.contentWindow)||void 0===n?void 0:n.document.querySelector("body"),o=t.querySelector("header"),l=t.querySelector("footer");t.removeChild(o),t.removeChild(l),r.observe(i)})),i.src=null!==(e=i.dataset.href)&&void 0!==e?e:"#";else if(null!==i){null===(t=l[n].parentElement)||void 0===t||t.removeChild(i);const e=document.createElement("span");e.style.color="white",e.style.backgroundColor="grey",e.innerText="netsted iframe cannot render page! visit this page!",null===(o=l[n].parentElement)||void 0===o||o.appendChild(e)}}}(),function(){const e=n(t),o=document.querySelectorAll(".wikilink.externallink");for(let n=0;n<o.length;n++){const t=o[n].nextElementSibling;null!==t&&(window.location!==window.parent.location&&(t.innerHTML='<div style="background-color: grey; color: white;">nested iframe cannot access external link! visit this page!</div>'),e.observe(t))}}()}))})();
(()=>{"use strict";const e=JSON.parse('{"OS":{"background-color":"rgb(160, 43, 43)","color":"rgb(95, 212, 235)"},"CS":{"background-color":"rgb(244, 217, 217)","color":"rgb(11, 38, 231)"},"컴퓨터_구조":{"background-color":"rgb(31, 78, 78)","color":"rgb(224, 177, 4)"},"요약":{"background-color":"rgb(193, 68, 68)","color":"rgb(62, 187, 80)"},"CRUDE":{"background-color":"rgb(50, 151, 151)","color":"rgb(205, 104, 144)"},"HIDE":{"background-color":"rgb(167, 47, 47)","color":"rgb(88, 208, 83)"},"JEKYLL":{"background-color":"rgb(147, 253, 253)","color":"rgb(108, 2, 94)"},"UPDATE":{"background-color":"rgb(78, 111, 111)","color":"rgb(177, 144, 122)"},"BLOG_TEST":{"background-color":"rgb(57, 77, 77)","color":"rgb(198, 178, 209)"}}'),t=e;let o=[];const n=e;function r(e,t){const o=document.createElement("a");return o.classList.add("tag-link"),o.href=`/search.html?tags=${e}`,o.innerText=e,t?o.classList.add("emphasis"):(o.style.color=n[e].color,o.style.backgroundColor=n[e]["background-color"]),o}const c=window;function s(e,t){const o=document.createElement("li");o.appendChild(function(e){const t=document.createElement("span");return t.classList.add("post-meta"),t.innerText=e,t}(e.date));for(const n of e.tags)o.appendChild(r(n,t.includes(n)));return o.appendChild(function(e,t,o){const n=document.createElement("h3"),r=document.createElement("a");r.classList.add("post-link");for(const o of e)t=t.replaceAll(new RegExp(o.query,"gi"),(e=>`<mark>${e}</mark>`));return r.innerHTML=t,r.href=o,n.appendChild(r),n}(e.titleMatchs,e.title,e.url)),o.appendChild(function(e,t){const o=document.createElement("p");if(e.length>0){const n=Math.max(e[0].position[0][0]-50,0),r=Math.min(e[0].position[0][0]+e[0].position[0][1]+150,t.length);t=t.substring(n,r);for(const o of e)t=t.replaceAll(new RegExp(o.query,"gi"),(e=>`<mark>${e}</mark>`));o.innerHTML=t+"..."}else o.innerHTML=t.substring(0,200)+"...";return o}(e.contentMatchs,e.content)),o}!function(){const e=function(){const e=window.location.search,t=new URLSearchParams(e);let o=t.get("query");o=null!==o?decodeURIComponent(o.replace(/\+/g,"%20")):"";let n=t.get("tags")?.split("|").map(decodeURIComponent).map((e=>e.toUpperCase())).filter((e=>null!=e.match(/[^ ]/)));return n=void 0!==n?n:[],{query:o,tags:n}}();if(""===e.query&&0===e.tags.length){const e=document.querySelector(".post-list-heading"),t=document.getElementById("search-box"),o=document.getElementById("search-wrapper");return e.innerHTML="You entered No Query!",e.style.color="red",e.style.fontSize="xx-large",void function(e,t){const o=e.placeholder;e.placeholder="No Query!",e.classList.add("no-query"),t.classList.add("no-query"),setTimeout((()=>{e.placeholder=o,e.classList.remove("no-query"),t.classList.remove("no-query")}),800)}(t,o)}!function(e){const n=document.getElementById("search-box"),r=document.querySelector("#tag-holder");n.value=`${e.query}`;for(const t of e.tags)n.value+=` #${t}`;n.value=n.value.replaceAll(/#([^# ]+)/g,function(e){return(n,r)=>{const c=document.createElement("a"),s=r.toUpperCase();return c.innerText=s+" x",c.classList.add("tag-link"),c.classList.add("for-search"),void 0!==t[s]?(c.style.color=t[s].color,c.style.backgroundColor=t[s]["background-color"],o.push(s)):c.innerText="❓UNREGISTERED TAG x",c.addEventListener("click",(e=>{e.preventDefault(),function(e){const t=e.target,n=o.findIndex((e=>e===t.innerText.slice(0,-2)));o.splice(n,1),t.remove()}(e)})),e.appendChild(c),""}}(r)),null===e.query.match(/[^ ]/)&&(n.value=""),n.dispatchEvent(new Event("input")),n.dispatchEvent(new Event("focusin"))}(e),function(e,t){const o=document.getElementById("query-results");o.querySelector(".query-str").innerHTML=`<mark>${t.query}</mark>`;const n=o.querySelector(".post-list"),c=o.querySelector(".query-tags");for(const e of t.tags){const o=r(e,t.tags.includes(e));c.appendChild(o)}if(e.length>0){n.innerHTML="";for(const o of e)n.append(s(o,t.tags))}}(function(e){if(""===e.query)return function(e){const t=[];for(const o of Object.keys(c.store)){const n=c.store[o];let r=!1;for(const t of e)if(!n.tags.includes(t)){r=!0;break}r||t.push({url:n.url,date:n.date,tags:n.tags.map((e=>e.toUpperCase())),title:n.title,titleMatchs:[],content:n.content,contentMatchs:[]})}return t}(e.tags);const t=function(e,t){return e.filter((e=>{for(const o of t.tags)if(!c.store[e.ref].tags.includes(o.toUpperCase()))return!1;return!0}))}(""!==e.query?window.searchIndex.search(e.query):[],e);return function(e){const t=[];for(let o=0;o<e.length;o++){const n=c.store[e[o].ref],r=e[o].matchData.metadata,s=Object.keys(r),a=[],l=[];for(const e of s)void 0!==r[e].content&&l.push({query:e,position:r[e].content.position}),void 0!==r[e].title&&a.push({query:e,position:r[e].title.position});t.push({url:n.url,date:n.date,tags:n.tags.map((e=>e.toUpperCase())),title:n.title,titleMatchs:a,content:n.content,contentMatchs:l})}return t}(t)}(e),e)}()})();